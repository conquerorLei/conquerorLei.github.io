<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>conquerorLei</title>
  
  <subtitle>further study make me better</subtitle>
  <link href="https://conquerorlei.github.io/atom.xml" rel="self"/>
  
  <link href="https://conquerorlei.github.io/"/>
  <updated>2021-09-18T08:02:45.437Z</updated>
  <id>https://conquerorlei.github.io/</id>
  
  <author>
    <name>conquerorLei</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MySQL 复合查询</title>
    <link href="https://conquerorlei.github.io/posts/1c07fddd/"/>
    <id>https://conquerorlei.github.io/posts/1c07fddd/</id>
    <published>2021-09-18T06:34:56.000Z</published>
    <updated>2021-09-18T08:02:45.437Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109181053888.png" alt="Database"></p><span id="more"></span><h3 id="数据与表结构"><a href="#数据与表结构" class="headerlink" title="数据与表结构"></a>数据与表结构</h3><p>复合查询使用的结构与此篇博客中使用的数据是一样的：<a href="https://conquerorlei.github.io/posts/1c07fddd">MySQL CRUD:Group By的使用 | conquerorLei</a></p><h3 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h3>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gitee.com/QingShanxl/pictures/raw/master/img/202109181053888.png&quot; alt=&quot;Database&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Database" scheme="https://conquerorlei.github.io/categories/Database/"/>
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/categories/Database/MySQL/"/>
    
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MySQL CRUD:Having和Where的区别</title>
    <link href="https://conquerorlei.github.io/posts/978101fb/"/>
    <id>https://conquerorlei.github.io/posts/978101fb/</id>
    <published>2021-09-18T06:09:24.000Z</published>
    <updated>2021-09-18T06:41:26.638Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://pedropablomoral.com/wp-content/uploads/2017/07/crud-con-node-js.jpg" alt="CRUD"></p><span id="more"></span><h3 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h3><ol><li>Where是约束声明，在结果返回之前起作用的，且Where中不能使用聚合函数。</li><li>Having是过滤声明，在查询返回结果集以后对查询结果进行的过滤操作，在Having中可以使用聚合函数。</li></ol><h3 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h3><p>首先，需要说明的是，Having的使用是在Group之后的。</p><ol><li>Having子句可以让我们筛选成组后的各组数据而，Having子句在聚合后对组记录进行筛选。</li><li>Where子句在聚合前先筛选记录．也就是说作用在Group By子句和Having子句前</li></ol><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://pedropablomoral.com/wp-content/uploads/2017/07/crud-con-node-js.jpg&quot; alt=&quot;CRUD&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Database" scheme="https://conquerorlei.github.io/categories/Database/"/>
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/categories/Database/MySQL/"/>
    
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/tags/MySQL/"/>
    
    <category term="CRUD" scheme="https://conquerorlei.github.io/tags/CRUD/"/>
    
  </entry>
  
  <entry>
    <title>MySQL CRUD:Group By的使用</title>
    <link href="https://conquerorlei.github.io/posts/7b68b62c/"/>
    <id>https://conquerorlei.github.io/posts/7b68b62c/</id>
    <published>2021-09-17T14:51:36.000Z</published>
    <updated>2021-09-18T06:41:26.635Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://pedropablomoral.com/wp-content/uploads/2017/07/crud-con-node-js.jpg" alt="CRUD"></p><span id="more"></span><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> column1,column2,... <span class="keyword">from</span> tabel_name <span class="keyword">group</span> <span class="keyword">by</span> column_name;</span><br></pre></td></tr></table></figure><h3 id="数据以及数据表结构"><a href="#数据以及数据表结构" class="headerlink" title="数据以及数据表结构"></a>数据以及数据表结构</h3><p>本次数据库采用的的是oracle9i的测试数据库scott，这里是数据库的备份文件<a href="https://gitee.com/QingShanxl/resource/blob/master/sql/test_scott.sql">sql/test_scott.sql · 青山/Resource - 码云 - 开源中国 (gitee.com)</a></p><h4 id="表结构"><a href="#表结构" class="headerlink" title="表结构"></a>表结构</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">describe</span> bonus;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type         <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> ename <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)  <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> job   <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">9</span>)   <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sal   <span class="operator">|</span> <span class="type">decimal</span>(<span class="number">7</span>,<span class="number">2</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> comm  <span class="operator">|</span> <span class="type">decimal</span>(<span class="number">7</span>,<span class="number">2</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">describe</span> dept;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field  <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> deptno <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> dname  <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">14</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> loc    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">13</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">describe</span> emp;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+--------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field    <span class="operator">|</span> Type         <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+--------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> empno    <span class="operator">|</span> <span class="type">int</span>          <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> ename    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>)  <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> job      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">9</span>)   <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> mgr      <span class="operator">|</span> <span class="type">int</span>          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> hiredate <span class="operator">|</span> <span class="type">date</span>         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sal      <span class="operator">|</span> <span class="type">decimal</span>(<span class="number">7</span>,<span class="number">2</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> comm     <span class="operator">|</span> <span class="type">decimal</span>(<span class="number">7</span>,<span class="number">2</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> deptno   <span class="operator">|</span> <span class="type">int</span>          <span class="operator">|</span> YES  <span class="operator">|</span> MUL <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+--------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">8</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">describe</span> salgrade;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type         <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> grade <span class="operator">|</span> <span class="type">int</span>          <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> losal <span class="operator">|</span> <span class="type">decimal</span>(<span class="number">7</span>,<span class="number">2</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> hisal <span class="operator">|</span> <span class="type">decimal</span>(<span class="number">7</span>,<span class="number">2</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="emp、dept、salgrade数据"><a href="#emp、dept、salgrade数据" class="headerlink" title="emp、dept、salgrade数据"></a>emp、dept、salgrade数据</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------+-----------+------+------------+---------+---------+--------+</span></span><br><span class="line"><span class="operator">|</span> empno <span class="operator">|</span> ename  <span class="operator">|</span> job       <span class="operator">|</span> mgr  <span class="operator">|</span> hiredate   <span class="operator">|</span> sal     <span class="operator">|</span> comm    <span class="operator">|</span> deptno <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------+-----------+------+------------+---------+---------+--------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7369</span> <span class="operator">|</span> SMITH  <span class="operator">|</span> CLERK     <span class="operator">|</span> <span class="number">7902</span> <span class="operator">|</span> <span class="number">1980</span><span class="number">-12</span><span class="number">-17</span> <span class="operator">|</span>  <span class="number">800.00</span> <span class="operator">|</span>    <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="number">20</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7499</span> <span class="operator">|</span> ALLEN  <span class="operator">|</span> SALESMAN  <span class="operator">|</span> <span class="number">7698</span> <span class="operator">|</span> <span class="number">1981</span><span class="number">-02</span><span class="number">-20</span> <span class="operator">|</span> <span class="number">1600.00</span> <span class="operator">|</span>  <span class="number">300.00</span> <span class="operator">|</span>     <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7521</span> <span class="operator">|</span> WARD   <span class="operator">|</span> SALESMAN  <span class="operator">|</span> <span class="number">7698</span> <span class="operator">|</span> <span class="number">1981</span><span class="number">-02</span><span class="number">-22</span> <span class="operator">|</span> <span class="number">1250.00</span> <span class="operator">|</span>  <span class="number">500.00</span> <span class="operator">|</span>     <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7566</span> <span class="operator">|</span> JONES  <span class="operator">|</span> MANAGER   <span class="operator">|</span> <span class="number">7839</span> <span class="operator">|</span> <span class="number">1981</span><span class="number">-04</span><span class="number">-02</span> <span class="operator">|</span> <span class="number">2975.00</span> <span class="operator">|</span>    <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="number">20</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7654</span> <span class="operator">|</span> MARTIN <span class="operator">|</span> SALESMAN  <span class="operator">|</span> <span class="number">7698</span> <span class="operator">|</span> <span class="number">1981</span><span class="number">-09</span><span class="number">-28</span> <span class="operator">|</span> <span class="number">1250.00</span> <span class="operator">|</span> <span class="number">1400.00</span> <span class="operator">|</span>     <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7698</span> <span class="operator">|</span> BLAKE  <span class="operator">|</span> MANAGER   <span class="operator">|</span> <span class="number">7839</span> <span class="operator">|</span> <span class="number">1981</span><span class="number">-05</span><span class="number">-01</span> <span class="operator">|</span> <span class="number">2850.00</span> <span class="operator">|</span>    <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7782</span> <span class="operator">|</span> CLARK  <span class="operator">|</span> MANAGER   <span class="operator">|</span> <span class="number">7839</span> <span class="operator">|</span> <span class="number">1981</span><span class="number">-06</span><span class="number">-09</span> <span class="operator">|</span> <span class="number">2450.00</span> <span class="operator">|</span>    <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7788</span> <span class="operator">|</span> SCOTT  <span class="operator">|</span> ANALYST   <span class="operator">|</span> <span class="number">7566</span> <span class="operator">|</span> <span class="number">1987</span><span class="number">-04</span><span class="number">-19</span> <span class="operator">|</span> <span class="number">3000.00</span> <span class="operator">|</span>    <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="number">20</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7839</span> <span class="operator">|</span> KING   <span class="operator">|</span> PRESIDENT <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="number">1981</span><span class="number">-11</span><span class="number">-17</span> <span class="operator">|</span> <span class="number">5000.00</span> <span class="operator">|</span>    <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7844</span> <span class="operator">|</span> TURNER <span class="operator">|</span> SALESMAN  <span class="operator">|</span> <span class="number">7698</span> <span class="operator">|</span> <span class="number">1981</span><span class="number">-09</span><span class="number">-08</span> <span class="operator">|</span> <span class="number">1500.00</span> <span class="operator">|</span>    <span class="number">0.00</span> <span class="operator">|</span>     <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7876</span> <span class="operator">|</span> ADAMS  <span class="operator">|</span> CLERK     <span class="operator">|</span> <span class="number">7788</span> <span class="operator">|</span> <span class="number">1987</span><span class="number">-05</span><span class="number">-23</span> <span class="operator">|</span> <span class="number">1100.00</span> <span class="operator">|</span>    <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="number">20</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7900</span> <span class="operator">|</span> JAMES  <span class="operator">|</span> CLERK     <span class="operator">|</span> <span class="number">7698</span> <span class="operator">|</span> <span class="number">1981</span><span class="number">-12</span><span class="number">-03</span> <span class="operator">|</span>  <span class="number">950.00</span> <span class="operator">|</span>    <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7902</span> <span class="operator">|</span> FORD   <span class="operator">|</span> ANALYST   <span class="operator">|</span> <span class="number">7566</span> <span class="operator">|</span> <span class="number">1981</span><span class="number">-12</span><span class="number">-03</span> <span class="operator">|</span> <span class="number">3000.00</span> <span class="operator">|</span>    <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="number">20</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7934</span> <span class="operator">|</span> MILLER <span class="operator">|</span> CLERK     <span class="operator">|</span> <span class="number">7782</span> <span class="operator">|</span> <span class="number">1982</span><span class="number">-01</span><span class="number">-23</span> <span class="operator">|</span> <span class="number">1300.00</span> <span class="operator">|</span>    <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+--------+-----------+------+------------+---------+---------+--------+</span></span><br><span class="line"><span class="number">14</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------------+----------+</span></span><br><span class="line"><span class="operator">|</span> deptno <span class="operator">|</span> dname      <span class="operator">|</span> loc      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------------+----------+</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">10</span> <span class="operator">|</span> ACCOUNTING <span class="operator">|</span> <span class="keyword">NEW</span> YORK <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">20</span> <span class="operator">|</span> RESEARCH   <span class="operator">|</span> DALLAS   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">30</span> <span class="operator">|</span> SALES      <span class="operator">|</span> CHICAGO  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">40</span> <span class="operator">|</span> OPERATIONS <span class="operator">|</span> BOSTON   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------------+----------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> salgrade;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+---------+</span></span><br><span class="line"><span class="operator">|</span> grade <span class="operator">|</span> losal   <span class="operator">|</span> hisal   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+---------+</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">1</span> <span class="operator">|</span>  <span class="number">700.00</span> <span class="operator">|</span> <span class="number">1200.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">2</span> <span class="operator">|</span> <span class="number">1201.00</span> <span class="operator">|</span> <span class="number">1400.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">3</span> <span class="operator">|</span> <span class="number">1401.00</span> <span class="operator">|</span> <span class="number">2000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">4</span> <span class="operator">|</span> <span class="number">2001.00</span> <span class="operator">|</span> <span class="number">3000.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">5</span> <span class="operator">|</span> <span class="number">3001.00</span> <span class="operator">|</span> <span class="number">9999.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+---------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><h4 id="显示每个部门的平均工资和最搞工资"><a href="#显示每个部门的平均工资和最搞工资" class="headerlink" title="显示每个部门的平均工资和最搞工资"></a>显示每个部门的平均工资和最搞工资</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">as</span> salavg,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="built_in">max</span>(sal) <span class="keyword">as</span> maxsal,deptno</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">from</span> emp</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">group</span> <span class="keyword">by</span> deptno;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+---------+--------+</span></span><br><span class="line"><span class="operator">|</span> salavg      <span class="operator">|</span> maxsal  <span class="operator">|</span> deptno <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+---------+--------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">2916.666667</span> <span class="operator">|</span> <span class="number">5000.00</span> <span class="operator">|</span>     <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">2175.000000</span> <span class="operator">|</span> <span class="number">3000.00</span> <span class="operator">|</span>     <span class="number">20</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1566.666667</span> <span class="operator">|</span> <span class="number">2850.00</span> <span class="operator">|</span>     <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+---------+--------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="显示每个部分的各种改为的平均工资和最低工资"><a href="#显示每个部分的各种改为的平均工资和最低工资" class="headerlink" title="显示每个部分的各种改为的平均工资和最低工资"></a>显示每个部分的各种改为的平均工资和最低工资</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">as</span> salavg,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="built_in">min</span>(sal)<span class="keyword">as</span> minsal,job,deptno</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">from</span> emp</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">group</span> <span class="keyword">by</span> deptno,job;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+---------+-----------+--------+</span></span><br><span class="line"><span class="operator">|</span> salavg      <span class="operator">|</span> minsal  <span class="operator">|</span> job       <span class="operator">|</span> deptno <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+---------+-----------+--------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">950.000000</span> <span class="operator">|</span>  <span class="number">800.00</span> <span class="operator">|</span> CLERK     <span class="operator">|</span>     <span class="number">20</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1400.000000</span> <span class="operator">|</span> <span class="number">1250.00</span> <span class="operator">|</span> SALESMAN  <span class="operator">|</span>     <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">2975.000000</span> <span class="operator">|</span> <span class="number">2975.00</span> <span class="operator">|</span> MANAGER   <span class="operator">|</span>     <span class="number">20</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">2850.000000</span> <span class="operator">|</span> <span class="number">2850.00</span> <span class="operator">|</span> MANAGER   <span class="operator">|</span>     <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">2450.000000</span> <span class="operator">|</span> <span class="number">2450.00</span> <span class="operator">|</span> MANAGER   <span class="operator">|</span>     <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">3000.000000</span> <span class="operator">|</span> <span class="number">3000.00</span> <span class="operator">|</span> ANALYST   <span class="operator">|</span>     <span class="number">20</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">5000.000000</span> <span class="operator">|</span> <span class="number">5000.00</span> <span class="operator">|</span> PRESIDENT <span class="operator">|</span>     <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">950.000000</span> <span class="operator">|</span>  <span class="number">950.00</span> <span class="operator">|</span> CLERK     <span class="operator">|</span>     <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1300.000000</span> <span class="operator">|</span> <span class="number">1300.00</span> <span class="operator">|</span> CLERK     <span class="operator">|</span>     <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+---------+-----------+--------+</span></span><br><span class="line"><span class="number">9</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="显示平均工资低于2000的部门和他的平均工资"><a href="#显示平均工资低于2000的部门和他的平均工资" class="headerlink" title="显示平均工资低于2000的部门和他的平均工资"></a>显示平均工资低于2000的部门和他的平均工资</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">as</span> salavg,deptno</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">from</span> emp</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">group</span> <span class="keyword">by</span> deptno</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">having</span> salavg <span class="operator">&lt;</span> <span class="number">2000</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+--------+</span></span><br><span class="line"><span class="operator">|</span> salavg      <span class="operator">|</span> deptno <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+--------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1566.666667</span> <span class="operator">|</span>     <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+--------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://pedropablomoral.com/wp-content/uploads/2017/07/crud-con-node-js.jpg&quot; alt=&quot;CRUD&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Database" scheme="https://conquerorlei.github.io/categories/Database/"/>
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/categories/Database/MySQL/"/>
    
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/tags/MySQL/"/>
    
    <category term="CRUD" scheme="https://conquerorlei.github.io/tags/CRUD/"/>
    
  </entry>
  
  <entry>
    <title>MySQL CRUD:聚合函数</title>
    <link href="https://conquerorlei.github.io/posts/beb41dd5/"/>
    <id>https://conquerorlei.github.io/posts/beb41dd5/</id>
    <published>2021-09-17T14:50:36.000Z</published>
    <updated>2021-09-18T06:41:26.641Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://pedropablomoral.com/wp-content/uploads/2017/07/crud-con-node-js.jpg" alt="CRUD"></p><span id="more"></span><h3 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h3><div class="table-container"><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>count([distinct] expr)</td><td>返回查询到的记录的数量</td></tr><tr><td>sum([distinct] expr)</td><td>返回查询到的数据总和，<font color='red'>不是数字没有意义</font></td></tr><tr><td>avg([distinct] expr)</td><td>返回查询到的数据平均值，<font color='red'>不是数字没有意义</font></td></tr><tr><td>max([distinct] expr)</td><td>返回查询到的数据最大值，<font color='red'>不是数字没有意义</font></td></tr><tr><td>min([distinct] expr)</td><td>返回查询到的数据最小值，<font color='red'>不是数字没有意义</font></td></tr></tbody></table></div><h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><h4 id="数据以及表结构"><a href="#数据以及表结构" class="headerlink" title="数据以及表结构"></a>数据以及表结构</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">describe</span> students;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> auto_increment <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sn    <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> YES  <span class="operator">|</span> UNI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name  <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">20</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> qq    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">20</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="operator">|</span> id  <span class="operator">|</span> sn    <span class="operator">|</span> name   <span class="operator">|</span> qq    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">100</span> <span class="operator">|</span> <span class="number">10010</span> <span class="operator">|</span> 唐大师 <span class="operator">|</span> <span class="number">22222</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">101</span> <span class="operator">|</span> <span class="number">10001</span> <span class="operator">|</span> 小舞   <span class="operator">|</span> <span class="number">11111</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">102</span> <span class="operator">|</span> <span class="number">10003</span> <span class="operator">|</span> 朱竹青 <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">103</span> <span class="operator">|</span> <span class="number">10004</span> <span class="operator">|</span> 奥斯卡 <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">describe</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> Field   <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> id      <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> auto_increment <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">20</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> chinese <span class="operator">|</span> <span class="type">float</span>       <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="number">0</span>       <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> math    <span class="operator">|</span> <span class="type">float</span>       <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="number">0</span>       <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> english <span class="operator">|</span> <span class="type">float</span>       <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="number">0</span>       <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> chinese <span class="operator">|</span> math <span class="operator">|</span> english <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> 唐三藏 <span class="operator">|</span>      <span class="number">67</span> <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span>      <span class="number">56</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> 孙悟空 <span class="operator">|</span>      <span class="number">87</span> <span class="operator">|</span>   <span class="number">78</span> <span class="operator">|</span>      <span class="number">77</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> 猪悟能 <span class="operator">|</span>      <span class="number">88</span> <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span>      <span class="number">90</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> 曹孟德 <span class="operator">|</span>      <span class="number">82</span> <span class="operator">|</span>   <span class="number">84</span> <span class="operator">|</span>      <span class="number">67</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> 刘玄德 <span class="operator">|</span>      <span class="number">55</span> <span class="operator">|</span>   <span class="number">85</span> <span class="operator">|</span>      <span class="number">45</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> 孙策   <span class="operator">|</span>      <span class="number">70</span> <span class="operator">|</span>   <span class="number">73</span> <span class="operator">|</span>      <span class="number">78</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> 宋公明 <span class="operator">|</span>      <span class="number">75</span> <span class="operator">|</span>   <span class="number">65</span> <span class="operator">|</span>      <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><h4 id="同级班级共有多少同学"><a href="#同级班级共有多少同学" class="headerlink" title="同级班级共有多少同学"></a>同级班级共有多少同学</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- count(*)</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> students;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="operator">|</span>        <span class="number">4</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- count(id)由于id是主键，非空</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">count</span>(id) <span class="keyword">from</span> students;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">count</span>(id) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="operator">|</span>         <span class="number">4</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- count(distinct id)由于id是主键，唯一</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">count</span>(<span class="keyword">distinct</span> id) <span class="keyword">from</span> students;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">count</span>(<span class="keyword">distinct</span> id) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span>                  <span class="number">4</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">count</span>(id) <span class="keyword">as</span> num <span class="keyword">from</span> students;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+</span></span><br><span class="line"><span class="operator">|</span> num <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">4</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="统计班级手机的QQ有多少个"><a href="#统计班级手机的QQ有多少个" class="headerlink" title="统计班级手机的QQ有多少个"></a>统计班级手机的QQ有多少个</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">count</span>(qq) <span class="keyword">from</span> students;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">count</span>(qq) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><div class="note success"><p><font color='lawngreen'>NULL</font>不被统计</p></div><h4 id="统计本次考试中数学分数个数"><a href="#统计本次考试中数学分数个数" class="headerlink" title="统计本次考试中数学分数个数"></a>统计本次考试中数学分数个数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">count</span>(math) <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">count</span>(math) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+</span></span><br><span class="line"><span class="operator">|</span>           <span class="number">7</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="统计本次考试中数学成绩不重复的个数"><a href="#统计本次考试中数学成绩不重复的个数" class="headerlink" title="统计本次考试中数学成绩不重复的个数"></a>统计本次考试中数学成绩不重复的个数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">count</span>(<span class="keyword">distinct</span> math) <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">count</span>(<span class="keyword">distinct</span> math) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------------+</span></span><br><span class="line"><span class="operator">|</span>                    <span class="number">6</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="统计数学成绩总分"><a href="#统计数学成绩总分" class="headerlink" title="统计数学成绩总分"></a>统计数学成绩总分</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">sum</span>(math) <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">sum</span>(math) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">581</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="统计平均总分"><a href="#统计平均总分" class="headerlink" title="统计平均总分"></a>统计平均总分</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">avg</span>(chinese <span class="operator">+</span> math <span class="operator">+</span> english) <span class="keyword">as</span> avg_sum <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> avg_sum            <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">221.14285714285714</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 对结果格式重置为小数点后两位</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> format(<span class="built_in">avg</span>(chinese <span class="operator">+</span> math <span class="operator">+</span> english),<span class="number">2</span>) <span class="keyword">as</span> avg_sum <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">---------+</span></span><br><span class="line"><span class="operator">|</span> avg_sum <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">221.14</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><div class="note success"><p>关于format，包含四舍五入，不是直接截断数据的</p></div><h4 id="返回英语最高分"><a href="#返回英语最高分" class="headerlink" title="返回英语最高分"></a>返回英语最高分</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">max</span>(english) <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">max</span>(english) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------+</span></span><br><span class="line"><span class="operator">|</span>           <span class="number">90</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><h4 id="返回70以上的数学最低分"><a href="#返回70以上的数学最低分" class="headerlink" title="返回70以上的数学最低分"></a>返回70以上的数学最低分</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">min</span>(math) <span class="keyword">from</span> exam_result</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">where</span> math <span class="operator">&gt;</span> <span class="number">70</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">min</span>(math) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="operator">|</span>        <span class="number">73</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> math <span class="keyword">from</span> exam_result</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">where</span> math <span class="operator">&gt;</span> <span class="number">70</span></span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">order</span> <span class="keyword">by</span> math</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> limit <span class="number">1</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> math <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">73</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://pedropablomoral.com/wp-content/uploads/2017/07/crud-con-node-js.jpg&quot; alt=&quot;CRUD&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Database" scheme="https://conquerorlei.github.io/categories/Database/"/>
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/categories/Database/MySQL/"/>
    
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/tags/MySQL/"/>
    
    <category term="CRUD" scheme="https://conquerorlei.github.io/tags/CRUD/"/>
    
  </entry>
  
  <entry>
    <title>MySQL CRUD:插入查询结果</title>
    <link href="https://conquerorlei.github.io/posts/823de3f/"/>
    <id>https://conquerorlei.github.io/posts/823de3f/</id>
    <published>2021-09-17T14:50:14.000Z</published>
    <updated>2021-09-18T06:41:26.639Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://pedropablomoral.com/wp-content/uploads/2017/07/crud-con-node-js.jpg" alt="CRUD"></p><span id="more"></span><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> table_name [(<span class="keyword">column</span>[,<span class="keyword">column</span> ...]])] <span class="keyword">select</span> ...</span><br></pre></td></tr></table></figure><h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><p><strong>删除表中的重复记录</strong></p><h4 id="数据以及表结构"><a href="#数据以及表结构" class="headerlink" title="数据以及表结构"></a>数据以及表结构</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> duplicate_table;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name  <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">20</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> duplicate_table;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">100</span> <span class="operator">|</span> aaa  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">100</span> <span class="operator">|</span> aaa  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">200</span> <span class="operator">|</span> bbb  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">200</span> <span class="operator">|</span> bbb  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">200</span> <span class="operator">|</span> bbb  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">300</span> <span class="operator">|</span> ccc  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">6</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><p>大致思路就是，创建副本，副本中插入不重复的数据，副本重命名。结束:clap:</p><h4 id="具体操作"><a href="#具体操作" class="headerlink" title="具体操作"></a>具体操作</h4><ol><li>创建空表no_duplicate_table和duplicate_table结果一样</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> no_duplicate_table <span class="keyword">like</span> duplicate_table;</span><br></pre></td></tr></table></figure><ol><li>从duplicate_table筛选不重复的数据插入到no_duplicate_table中</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> no_duplicate_table <span class="keyword">select</span> <span class="keyword">distinct</span> <span class="operator">*</span> <span class="keyword">from</span> duplicate_table;</span><br><span class="line">Query OK, <span class="number">3</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line">Records: <span class="number">3</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> no_duplicate_table;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">100</span> <span class="operator">|</span> aaa  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">200</span> <span class="operator">|</span> bbb  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">300</span> <span class="operator">|</span> ccc  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><ol><li>重命名表</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> rename <span class="keyword">table</span> duplicate_table <span class="keyword">to</span> old_duplicate_table,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> no_duplicate_table <span class="keyword">to</span> duplicate_table;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.08</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> tables;</span><br><span class="line"><span class="operator">+</span><span class="comment">---------------------+</span></span><br><span class="line"><span class="operator">|</span> Tables_in_test_0906 <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------------+</span></span><br><span class="line"><span class="operator">|</span> duplicate_table     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> exam_result         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> for_delete          <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> for_null            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> for_truncate        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> old_duplicate_table <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> students            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> table1              <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------------+</span></span><br><span class="line"><span class="number">8</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> duplicate_table;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> id   <span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">100</span> <span class="operator">|</span> aaa  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">200</span> <span class="operator">|</span> bbb  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">300</span> <span class="operator">|</span> ccc  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://pedropablomoral.com/wp-content/uploads/2017/07/crud-con-node-js.jpg&quot; alt=&quot;CRUD&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Database" scheme="https://conquerorlei.github.io/categories/Database/"/>
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/categories/Database/MySQL/"/>
    
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/tags/MySQL/"/>
    
    <category term="CRUD" scheme="https://conquerorlei.github.io/tags/CRUD/"/>
    
  </entry>
  
  <entry>
    <title>Hexo异常:Template render error:(unknown path)unexpected end of file</title>
    <link href="https://conquerorlei.github.io/posts/af15db9a/"/>
    <id>https://conquerorlei.github.io/posts/af15db9a/</id>
    <published>2021-09-17T12:23:53.000Z</published>
    <updated>2021-09-17T13:58:47.599Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109172035551.png" alt="Template render error"></p><span id="more"></span><h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>在渲染的过程中遇见了以上问题，我直接就是一顿崩溃。对于某一个页面渲染失败，主要是文章中出现了nunjucks语法的字符。</p><h3 id="问题定位策略"><a href="#问题定位策略" class="headerlink" title="问题定位策略"></a>问题定位策略</h3><p>关于新出现的问题以及定位问题的策略相关</p><p>无论是谁在工作、还是日常生活都会出现问题，遇见问题先不要慌，先发个朋友圈？</p><p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109172050267.jpeg" alt="开个玩笑"></p><p>遇见问题了就去查问题啊，不要怕找不到一模一样的问题，先找一堆相关的问题，然后慢慢来呗。</p><ol><li>根据查到的问题及其解决方案确定出现这类问题的原因</li><li>根据原因回忆你在操作过程中可能出现的类似的情况</li><li>然后对操作进行复盘大致确定问题可能出现的范围</li><li>对范围内的类似情况进行逐一排查</li></ol><h3 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h3><p>在网上一查，无论是哪个网站提供的说法不是Hexo无法渲染大括号，还是存在<code>&#123;&#123;&#125;&#125;</code>，<code>&#123;#</code>，<code>&#39;&#123;</code>，<code>&#123;% %&#125;</code>之类的，首先一点是Hexo是支持<code>&#123;%note%&#125;</code>标签的，但是我仔细收寻了我的文档，确定以及肯定我的文档当中没有除最后一个之外的其他三个。那就着重找最后一个呗。</p><p>对全局的 <code>&#123;%note%&#125;</code>进行排查，这有在这里才会出现Hexo无法转义的字符，或者说成是标签。可能出现的情况就是对于单一标签缺少一个大括号或者一个%，这样的话，使用文本编辑器里面的查找功能，很快就能定位到问题，果然就是缺少一个右括号，问题解决。:wink:</p><p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109172105539.png" alt="缺少右括号"></p><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gitee.com/QingShanxl/pictures/raw/master/img/202109172035551.png&quot; alt=&quot;Template render error&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="环境搭建" scheme="https://conquerorlei.github.io/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    
    <category term="Error" scheme="https://conquerorlei.github.io/categories/Error/"/>
    
    <category term="Hexo" scheme="https://conquerorlei.github.io/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Hexo/"/>
    
    
    <category term="Hexo" scheme="https://conquerorlei.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo渲染异常:Converting circular structure to JSON</title>
    <link href="https://conquerorlei.github.io/posts/cdb4d508/"/>
    <id>https://conquerorlei.github.io/posts/cdb4d508/</id>
    <published>2021-09-17T11:16:09.000Z</published>
    <updated>2021-09-17T13:59:15.889Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109172112675.png" alt="Converting circular structure to JSON"></p><span id="more"></span><h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>这个问题也是页面渲染过程中出现的问题，直接就是类型出错了。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">ERROR Template render error: (D:\hexo\themes\next\layout\post.njk)</span><br><span class="line">  Template render error: (D:\hexo\themes\next\layout\post.njk)</span><br><span class="line">  Template render error: (D:\hexo\themes\next\layout\post.njk) [Line 3, Column 12]</span><br><span class="line">  Template render error: (D:\hexo\themes\next\layout\post.njk)</span><br><span class="line">  Template render error: (D:\hexo\themes\next\layout\_partials\head\head-unique.njk)</span><br><span class="line">  TypeError: Converting circular structure to JSON</span><br><span class="line">    --&gt; starting at object with constructor &#x27;_Document&#x27;</span><br><span class="line">    |     property &#x27;tags&#x27; -&gt; object with constructor &#x27;_Query&#x27;</span><br><span class="line">    |     property &#x27;data&#x27; -&gt; object with constructor &#x27;Array&#x27;</span><br><span class="line">    |     ...</span><br><span class="line">    |     property &#x27;data&#x27; -&gt; object with constructor &#x27;Array&#x27;</span><br><span class="line">    --- index 0 closes the circle</span><br><span class="line">    at Object._prettifyError (D:\hexo\node_modules\nunjucks\src\lib.js:36:11)</span><br><span class="line">    at D:\hexo\node_modules\nunjucks\src\environment.js:563:19</span><br><span class="line">    at Template.root [as rootRenderFunc] (eval at _compile (D:\hexo\node_modules\nunjucks\src\environment.js:633:18), &lt;anonymous&gt;:43:3)</span><br><span class="line">    at Template.render (D:\hexo\node_modules\nunjucks\src\environment.js:552:10)</span><br><span class="line">    at D:\hexo\node_modules\hexo\lib\plugins\renderer\nunjucks.js:67:37</span><br><span class="line">    at _View._compiled (D:\hexo\node_modules\hexo\lib\theme\view.js:136:50)</span><br><span class="line">    at _View.render (D:\hexo\node_modules\hexo\lib\theme\view.js:39:17)</span><br><span class="line">    at D:\hexo\node_modules\hexo\lib\hexo\index.js:64:21</span><br><span class="line">    at tryCatcher (D:\hexo\node_modules\bluebird\js\release\util.js:16:23)</span><br><span class="line">    at D:\hexo\node_modules\bluebird\js\release\method.js:15:34</span><br><span class="line">    at RouteStream._read (D:\hexo\node_modules\hexo\lib\hexo\router.js:47:5)</span><br><span class="line">    at RouteStream.Readable.read (_stream_readable.js:467:10)</span><br><span class="line">    at resume_ (_stream_readable.js:981:12)</span><br><span class="line">    at processTicksAndRejections (internal/process/task_queues.js:84:21)</span><br></pre></td></tr></table></figure><p>为什么会出现这个问题，原来我也是很奇怪。</p><h3 id="问题定位"><a href="#问题定位" class="headerlink" title="问题定位"></a>问题定位</h3><p>在网上很了很多的资料，发现关于<code>Converting circular structure to JSON</code>的都是和JS相关的，但是在我看到我的问题报告里出现<font color='red'>tags</font>首先想到的就是我每一篇文稿的题头，包含这一篇的相关信息包括题目、创建时间、标签、分类什么的，也就是说Hexo在渲染这篇文章的时候出现了问题，就在front matter里面就出现问题了。</p><p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109172128946.png" alt="问题所在"></p><p>可是这个里面会有什么问题呢？:hear_no_evil: :broken_heart:</p><p>我接着看啊，Array，我突然想到了yml中关于一个属性的子属性都是使用数组实现的，那么肯定是某些字段不符合数组的存储，导致了一直在构造Array。而且可以定位到tags。</p><h3 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h3><p>这个其实吧，可能是怪我，因为那篇文章是关于<font color='lawngreen'>NULL</font>的，所以在添加标签的时候，是按照以下写法写的</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tags:</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line">  <span class="bullet">-</span> <span class="literal">NULL</span></span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line">  <span class="string">...</span></span><br></pre></td></tr></table></figure><p>相当于是申请了一片数组空间，存放了一个<font color='lawngreen'>NULL</font>，<font color='lawngreen'>NULL</font>是不占用物理空间的，这样的话，数组的构造器在构造数组的时候就出现了问题。或者可以理解为，对于数组，整个数组中的元素类型都是一样的，比如在我们这个环境下，所有的数组元素应该都是字符串。但这个插进去了一个<font color='lawngreen'>NULL</font>，开玩笑:joy:，怎么可能让你构造出来这样一个数组。</p><p>解决方法就是，既然<font color='lawngreen'>NULL</font>是一个特殊的值，给他加个引号变成一个字符串就好了呀</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tags:</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&#x27;NULL&#x27;</span></span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line">  <span class="string">...</span></span><br></pre></td></tr></table></figure><p>其实，最好的习惯还是，每次在创建文件的时候，都对<font color='cornflowerblue'>tags</font>和<font color='cornflowerblue'>categories</font>中的值挂引号，防止出现无法处理的值。</p><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gitee.com/QingShanxl/pictures/raw/master/img/202109172112675.png&quot; alt=&quot;Converting circular structure to JSON&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="环境搭建" scheme="https://conquerorlei.github.io/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    
    <category term="Error" scheme="https://conquerorlei.github.io/categories/Error/"/>
    
    <category term="Hexo" scheme="https://conquerorlei.github.io/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Hexo/"/>
    
    
    <category term="Hexo" scheme="https://conquerorlei.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>MySQL: NULL与NULL的比较(=,&lt;=&gt;)</title>
    <link href="https://conquerorlei.github.io/posts/58b080ef/"/>
    <id>https://conquerorlei.github.io/posts/58b080ef/</id>
    <published>2021-09-17T07:57:09.000Z</published>
    <updated>2021-09-17T11:14:10.691Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109171626761.jpeg" alt="MySQL"></p><span id="more"></span><h3 id="MySQL-NULL的含义"><a href="#MySQL-NULL的含义" class="headerlink" title="MySQL NULL的含义"></a>MySQL NULL的含义</h3><ol><li>在普通的字段中，空值就代表空值，而不是空字符。也就是说，<font color='red'>NULL就是NULL，而不是’’</font></li><li>如果将空值插入到TimesTamp类型的位置，空值就不是空值了</li></ol><h4 id="空值不一定为空"><a href="#空值不一定为空" class="headerlink" title="空值不一定为空"></a>空值不一定为空</h4><p>在MySQL数据库中，NULL对于一些特殊类型的列来说，其代表了一种特殊的含义，而不仅仅是一个空值。有两个特殊的值：</p><ol><li>TimesTamp数据类型。如果往这个数据类型的列中插入Null值，则其代表的就是系统的当前时间。</li><li>具有auto_increment属性的列。如果往这属性的列中插入Null值的话，则系统会插入一个正整数序列。</li></ol><h4 id="空值不是空字符"><a href="#空值不是空字符" class="headerlink" title="空值不是空字符"></a>空值不是空字符</h4><ol><li>Null 是没有的意思，不占用内存空间</li><li>‘’是空的字符串，它是一个字符串，不过里面没有内容，但是在内存中是真实存在的</li></ol><h4 id="空值测试"><a href="#空值测试" class="headerlink" title="空值测试"></a>空值测试</h4><p>对于此，我进行了以下测试</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">desc</span> for_null;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------+------+-----+-------------------+-------------------+</span></span><br><span class="line"><span class="operator">|</span> Field     <span class="operator">|</span> Type         <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span>           <span class="operator">|</span> Extra             <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------+------+-----+-------------------+-------------------+</span></span><br><span class="line"><span class="operator">|</span> id        <span class="operator">|</span> <span class="type">int</span> unsigned <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>              <span class="operator">|</span> auto_increment    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="type">date</span>      <span class="operator">|</span> <span class="type">timestamp</span>    <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="built_in">CURRENT_TIMESTAMP</span> <span class="operator">|</span> DEFAULT_GENERATED <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> test_null <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">2</span>)   <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>              <span class="operator">|</span>                   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------+------+-----+-------------------+-------------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> for_null(test_null) <span class="keyword">value</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> for_null(test_null) <span class="keyword">value</span>(<span class="keyword">null</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> for_null;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+---------------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> <span class="type">date</span>                <span class="operator">|</span> test_null <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+---------------------+-----------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> <span class="number">2021</span><span class="number">-09</span><span class="number">-17</span> <span class="number">16</span>:<span class="number">51</span>:<span class="number">42</span> <span class="operator">|</span>           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> <span class="number">2021</span><span class="number">-09</span><span class="number">-17</span> <span class="number">16</span>:<span class="number">52</span>:<span class="number">07</span> <span class="operator">|</span> <span class="keyword">NULL</span>      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+---------------------+-----------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>根据结果分析，两次插入的过程中没有插入到<font color='lawngreen'>id</font>和<font color='lawngreen'>date</font>，默认为<font color='red'>NULL</font>，但是插入之后，对于自增键来说，他会在原值的基础上自增并插入；对于timestamp类型的列date，直接插入了当时执行插入语句的时间。</p><p>对于允许<font color='red'>NULL</font>的列<font color='lawngreen'>test_null</font>，插入<font color='red'>NULL</font>和<font color='red'>‘’</font>结果不一样</p><h3 id="NULL的比较"><a href="#NULL的比较" class="headerlink" title="NULL的比较"></a>NULL的比较</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="keyword">null</span> <span class="operator">=</span> <span class="keyword">null</span>,<span class="keyword">null</span> <span class="operator">=</span> <span class="number">1</span>,<span class="keyword">null</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+----------+----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">null</span> <span class="operator">=</span> <span class="keyword">null</span> <span class="operator">|</span> <span class="keyword">null</span> <span class="operator">=</span> <span class="number">1</span> <span class="operator">|</span> <span class="keyword">null</span> <span class="operator">=</span> <span class="number">0</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+----------+----------+</span></span><br><span class="line"><span class="operator">|</span>        <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------+----------+----------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="keyword">null</span> <span class="operator">&lt;=&gt;</span> <span class="keyword">null</span>,<span class="keyword">null</span> <span class="operator">&lt;=&gt;</span> <span class="number">1</span>,<span class="keyword">null</span> <span class="operator">&lt;=&gt;</span> <span class="number">0</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">---------------+------------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">null</span> <span class="operator">&lt;=&gt;</span> <span class="keyword">null</span> <span class="operator">|</span> <span class="keyword">null</span> <span class="operator">&lt;=&gt;</span> <span class="number">1</span> <span class="operator">|</span> <span class="keyword">null</span> <span class="operator">&lt;=&gt;</span> <span class="number">0</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------+------------+------------+</span></span><br><span class="line"><span class="operator">|</span>             <span class="number">1</span> <span class="operator">|</span>          <span class="number">0</span> <span class="operator">|</span>          <span class="number">0</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------+------------+------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>这样就可以对select运算符的结果对应起来</p><hr><p>顺便提一句关于时间戳类型的列创建的过程</p><h3 id="查看for-null表的创建过程"><a href="#查看for-null表的创建过程" class="headerlink" title="查看for_null表的创建过程"></a>查看for_null表的创建过程</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> for_null;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">Table</span>    <span class="operator">|</span> <span class="keyword">Create</span> <span class="keyword">Table</span>                                                           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> for_null <span class="operator">|</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `for_null` (                                              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>          <span class="operator">|</span> `id` <span class="type">int</span> unsigned <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,                             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>          <span class="operator">|</span> `<span class="type">date</span>` <span class="type">timestamp</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span>,                   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>          <span class="operator">|</span> `test_null` <span class="type">varchar</span>(<span class="number">2</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,                                   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>          <span class="operator">|</span> <span class="keyword">PRIMARY</span> KEY (`id`)                                                     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>          <span class="operator">|</span> ) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">3</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4               <span class="operator">|</span> <span class="operator">|</span>          <span class="operator">|</span> <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_0900_ai_ci                                             <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="分析timestamp"><a href="#分析timestamp" class="headerlink" title="分析timestamp"></a>分析timestamp</h4><ol><li>timestamp必须被初始化，也就是说不能是NULL，默认值可以是”0000-00-00 00:00:00”</li><li>timestamp不可以设置值，只能通过数据库自动修改</li><li>一个表可以存在多个timestamp列，但只有一个列会根据数据更新而改变为数据库<strong>系统</strong>当前值，也就是说，多个timestamp没有意义</li><li>timestamp列的默认值是current_timestamp常量值。当纪录数据发生变化的时候，timestamp列会自动将其值设定为current_timestamp。</li></ol><div class="note warning"><p>理论上<font color='lawngreen'>default ‘0000-00-00 00:00:00′</font>是可以的，但是每次数据更新，时间戳都是 <font color='lawngreen'>‘0000-00-00 00:00:00′</font>，这样的话，时间戳就没有意义了</p></div><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gitee.com/QingShanxl/pictures/raw/master/img/202109171626761.jpeg&quot; alt=&quot;MySQL&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Database" scheme="https://conquerorlei.github.io/categories/Database/"/>
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/categories/Database/MySQL/"/>
    
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/tags/MySQL/"/>
    
    <category term="NULL" scheme="https://conquerorlei.github.io/tags/NULL/"/>
    
  </entry>
  
  <entry>
    <title>x的平方根</title>
    <link href="https://conquerorlei.github.io/posts/e0a96f5e/"/>
    <id>https://conquerorlei.github.io/posts/e0a96f5e/</id>
    <published>2021-09-16T12:09:29.000Z</published>
    <updated>2021-09-17T14:01:03.465Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109172200620.png" alt="x的平方根"></p><span id="more"></span><h4 id="题目地址"><a href="#题目地址" class="headerlink" title="题目地址"></a>题目地址</h4><p><a href="https://leetcode-cn.com/problems/sqrtx/">69. x 的平方根 - 力扣（LeetCode） (leetcode-cn.com)</a></p><h4 id="题目分析与代码"><a href="#题目分析与代码" class="headerlink" title="题目分析与代码"></a>题目分析与代码</h4><p>我的想法是在最开始，直接调用Math.sqrt()岂不是省时省力，为什么有这种题目？后来才想到这个题目考察的是你独立解决底层数据运算的能力。最开始，计算机不知道怎么开方，编程语言也不知道，写代码教电脑怎么开方呗</p><p>废话少说，直接说想法。</p><p>后面的想法就是，暴力，反正<font color='red'>一个非负整数的根永远不可能大于他的一半</font>$\eqref{eq1}$​​​​，也就是</p><script type="math/tex; mode=display">\begin{equation} \tag{1}\label{eq1} \sqrt{x} \leqslant \frac {x}{2}\end{equation}</script><p>基于此，就有以下代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="number">1</span>)<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">1</span>;i&lt;=x/<span class="number">2</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>((x == i*i)||(x&gt;i*i &amp;&amp; x&lt;Math.pow((i+<span class="number">1</span>),<span class="number">2</span>)))&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>结果</strong></p><p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109162013400.png" alt="力扣地址"></p><p>但是这样时间复杂度为O(n)，执行用时比较长，所以不得不选择一个时间复杂度比较低的算法进行运算。</p><p>我们对整个算法的过程进行复盘，不难发现，其实我们就是在寻找一个数k，使得以下关系成立$\eqref{eq2}$​</p><script type="math/tex; mode=display">\begin{equation}\tag{2}\label{eq2}k = max\left\lbrace k_i|k_i^2 \leqslant x \right\rbrace, i \geqslant 1\end{equation}</script><p>这样的话，其实我们就可以对k进行二分查找，二分查找的时间复杂度比较低，只有O(logn)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>,right = x,ans = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>((<span class="keyword">long</span>)mid*mid &lt;= x)&#123;</span><br><span class="line">                ans = mid;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>结果</strong></p><p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109162157798.png" alt="二分法力扣提交结果"></p><hr><p>未完待续，关于牛顿迭代法</p><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gitee.com/QingShanxl/pictures/raw/master/img/202109172200620.png&quot; alt=&quot;x的平方根&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="https://conquerorlei.github.io/categories/Java/"/>
    
    <category term="Algorithm" scheme="https://conquerorlei.github.io/categories/Algorithm/"/>
    
    <category term="二分法" scheme="https://conquerorlei.github.io/categories/Algorithm/%E4%BA%8C%E5%88%86%E6%B3%95/"/>
    
    <category term="暴力法" scheme="https://conquerorlei.github.io/categories/Algorithm/%E6%9A%B4%E5%8A%9B%E6%B3%95/"/>
    
    
    <category term="Daily" scheme="https://conquerorlei.github.io/tags/Daily/"/>
    
  </entry>
  
  <entry>
    <title>Hexo进阶(2):渲染MathJax数学公式</title>
    <link href="https://conquerorlei.github.io/posts/383f09c9/"/>
    <id>https://conquerorlei.github.io/posts/383f09c9/</id>
    <published>2021-09-15T15:12:46.000Z</published>
    <updated>2021-09-17T12:25:33.379Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://tse1-mm.cn.bing.net/th/id/R-C.01cf09502cb22f592b1671a4089db221?rik=2XqYUqu8AiQRKg&amp;riu=http%3a%2f%2fwww.lunwenhz.com%2fuploads%2fallimg%2f181101%2f33-1Q101142624146.jpg&amp;ehk=vSYNuW5k%2fn1%2fNA2JGyc%2fP%2bZI2upTc2a9MAd98VDF0uI%3d&amp;risl=&amp;pid=ImgRaw&amp;r=0" alt="优化篇"></p><span id="more"></span><h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>使用MarkDown语法描述问题时，难免会书写一些技术文档，技术文档中包含一些数学公式。但是Hexo在渲染MarkDown文档为Html时，就会遇见一些格式方面的问题。</p><h3 id="技术参考"><a href="#技术参考" class="headerlink" title="技术参考"></a>技术参考</h3><p><a href="https://theme-next.js.org/docs/third-party-services/math-equations">Math Equations | NexT (theme-next.js.org)</a></p><h3 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h3><p>Hexo默认使用”hexo-renderer-marked”引擎渲染网页，该引擎会把一些特殊的markdown符号转换为相应的html标签。比如说对于下划线，在MarkDown语法中对应的斜体，这样的话渲染成Html标签就是<code>&lt;em&gt;</code>，但是在MathJax下划线有很深层次的含义。</p><h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><h4 id="查看npm安装的插件"><a href="#查看npm安装的插件" class="headerlink" title="查看npm安装的插件"></a>查看npm安装的插件</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm ls -dept 0</span><br></pre></td></tr></table></figure><h4 id="更换渲染引擎"><a href="#更换渲染引擎" class="headerlink" title="更换渲染引擎"></a>更换渲染引擎</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 如果npm安装的插件列表里面有hexo-renderer-marked就卸载</span></span><br><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm insatll hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure><h4 id="安装hexo-math"><a href="#安装hexo-math" class="headerlink" title="安装hexo-math"></a>安装hexo-math</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-amth --save</span><br></pre></td></tr></table></figure><h4 id="修改themes-next-config-yml"><a href="#修改themes-next-config-yml" class="headerlink" title="修改themes\next\_config.yml"></a>修改themes\next\_config.yml</h4><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">math:</span></span><br><span class="line">  <span class="comment"># Default (false) will load mathjax / katex script on demand.</span></span><br><span class="line">  <span class="comment"># That is it only render those page which has `mathjax: true` in front-matter.</span></span><br><span class="line">  <span class="comment"># If you set it to true, it will load mathjax / katex srcipt EVERY PAGE.</span></span><br><span class="line">  <span class="attr">every_page:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">mathjax:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Available values: none | ams | all</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="string">ams</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">katex:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># See: https://github.com/KaTeX/KaTeX/tree/master/contrib/copy-tex</span></span><br><span class="line">    <span class="attr">copy_tex:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="修改hexo-node-modules-kramed-lib-rules-inline-js解决语义冲突"><a href="#修改hexo-node-modules-kramed-lib-rules-inline-js解决语义冲突" class="headerlink" title="修改hexo\node_modules\kramed\lib\rules\inline.js解决语义冲突"></a>修改hexo\node_modules\kramed\lib\rules\inline.js解决语义冲突</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> inline = &#123;</span><br><span class="line">  <span class="comment">// escape: /^\\([\\`*&#123;&#125;\[\]()#$+\-.!_&gt;])/,</span></span><br><span class="line">  <span class="attr">escape</span>: <span class="regexp">/^\\([`*\[\]()#$+\-.!_&gt;])/</span>,</span><br><span class="line">  autolink: <span class="regexp">/^&lt;([^ &gt;]+(@|:\/)[^ &gt;]+)&gt;/</span>,</span><br><span class="line">  url: noop,</span><br><span class="line">  <span class="attr">html</span>: <span class="regexp">/^&lt;!--[\s\S]*?--&gt;|^&lt;(\w+(?!:\/|[^\w\s@]*@)\b)*?(?:&quot;[^&quot;]*&quot;|&#x27;[^&#x27;]*&#x27;|[^&#x27;&quot;&gt;])*?&gt;([\s\S]*?)?&lt;\/\1&gt;|^&lt;(\w+(?!:\/|[^\w\s@]*@)\b)(?:&quot;[^&quot;]*&quot;|&#x27;[^&#x27;]*&#x27;|[^&#x27;&quot;&gt;])*?&gt;/</span>,</span><br><span class="line">  link: <span class="regexp">/^!?\[(inside)\]\(href\)/</span>,</span><br><span class="line">  reflink: <span class="regexp">/^!?\[(inside)\]\s*\[([^\]]*)\]/</span>,</span><br><span class="line">  nolink: <span class="regexp">/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/</span>,</span><br><span class="line">  reffn: <span class="regexp">/^!?\[\^(inside)\]/</span>,</span><br><span class="line">  strong: <span class="regexp">/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/</span>,</span><br><span class="line">  <span class="comment">// em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</span></span><br><span class="line">  em: <span class="regexp">/^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,</span><br><span class="line">  code: <span class="regexp">/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/</span>,</span><br><span class="line">  br: <span class="regexp">/^ &#123;2,&#125;\n(?!\s*$)/</span>,</span><br><span class="line">  del: noop,</span><br><span class="line">  <span class="attr">text</span>: <span class="regexp">/^[\s\S]+?(?=[\\&lt;!\[_*`$]| &#123;2,&#125;\n|$)/</span>,</span><br><span class="line">  math: <span class="regexp">/^\$\$\s*([\s\S]*?[^\$])\s*\$\$(?!\$)/</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><div class="note info"><p>注释的两行使原本文件中的两行，注释行下面第一行就是新添加的行，也就是<font color='red'>escape</font>和<font color='red'>em</font>两个的值改变了</p></div><h4 id="front-matter添加标签"><a href="#front-matter添加标签" class="headerlink" title="front-matter添加标签"></a>front-matter添加标签</h4><p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109161836025.png" alt="front标签添加"></p><h3 id="其他问题汇总"><a href="#其他问题汇总" class="headerlink" title="其他问题汇总"></a>其他问题汇总</h3><h4 id="大括号无法渲染"><a href="#大括号无法渲染" class="headerlink" title="大括号无法渲染"></a>大括号无法渲染</h4><p>使用<font color='red'>\lbrace</font>代替<font color='red'>\\{</font></p><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://tse1-mm.cn.bing.net/th/id/R-C.01cf09502cb22f592b1671a4089db221?rik=2XqYUqu8AiQRKg&amp;amp;riu=http%3a%2f%2fwww.lunwenhz.com%2fuploads%2fallimg%2f181101%2f33-1Q101142624146.jpg&amp;amp;ehk=vSYNuW5k%2fn1%2fNA2JGyc%2fP%2bZI2upTc2a9MAd98VDF0uI%3d&amp;amp;risl=&amp;amp;pid=ImgRaw&amp;amp;r=0&quot; alt=&quot;优化篇&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="环境搭建" scheme="https://conquerorlei.github.io/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    
    <category term="Hexo" scheme="https://conquerorlei.github.io/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/Hexo/"/>
    
    
    <category term="Hexo" scheme="https://conquerorlei.github.io/tags/Hexo/"/>
    
    <category term="Next" scheme="https://conquerorlei.github.io/tags/Next/"/>
    
  </entry>
  
  <entry>
    <title>上楼梯</title>
    <link href="https://conquerorlei.github.io/posts/f0ef69bc/"/>
    <id>https://conquerorlei.github.io/posts/f0ef69bc/</id>
    <published>2021-09-15T14:40:57.000Z</published>
    <updated>2021-09-17T10:47:31.638Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ss0.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=2588865287,1293565697&amp;fm=26&amp;gp=0.jpg" alt="上楼梯"></p><span id="more"></span><h4 id="题目地址"><a href="#题目地址" class="headerlink" title="题目地址"></a>题目地址</h4><p><a href="https://leetcode-cn.com/problems/climbing-stairs/">70. 爬楼梯 - 力扣（LeetCode） (leetcode-cn.com)</a></p><h4 id="题目分析"><a href="#题目分析" class="headerlink" title="题目分析"></a>题目分析</h4><p>其实我的思路最开始很简单，一共有n节台阶，假设上n节有f(n)种上法</p><ul><li>迈1节，一种迈法，就是上一节，即n==1时，f(1) = 1</li><li>迈2节，两种迈法，一种是两次一节，一种是一次两节，即n==2时，f(2)==2</li></ul><p>而且很容易得出递推公式</p><script type="math/tex; mode=display">f(n) = f(n-1) + f(n-2)</script><p>这样的话，直接就是一个递归啊</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">climbStairs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">2</span>) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span> climbStairs(n-<span class="number">1</span>)+climbStairs(n-<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但是，这样的话，时间复杂度是O(2^n)。由于算法是受时间限制的，当n=45的时候，代码直接被卡了<font color='red'>N/A</font>，我简直恨死这个东西了</p><p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109161852878.png" alt="你喜欢这个嘛？"></p><p>但是，肯定还是自己的算法不可以啊，不行？？？那就换:confused:</p><p>那换个啥方法，不知道？那就先来个数学归纳吧</p><ul><li>n==1   f(1) = 1</li><li>n==2   f(2) = 2</li><li>n==3   f(3) = 3</li><li>n==4   f(4) = 5</li><li>n==5   f(5) = 8</li><li>…</li></ul><p>有没发现，从第三项开始，每一项都是前两项的和，你想到了什么，斐波那契数列啊:astonished:</p><p>想一想，斐波那契数列怎么实现？</p><p>（1）公式实现</p><script type="math/tex; mode=display">f(n) = \frac {1}{\sqrt{5}}\left[\left(\frac{1+\sqrt{5}}{2}\right)^n - \left(\frac{1-\sqrt{5}}{2}\right)^n\right]</script><p>至于具体怎么实现的，中间涉及了高等数学齐次线性和特征方程的概念，想要了解得同学，移步。</p><p>（2）动态规划</p><p>根据递推公式，我只需要记录三项的值，第三项的值由前两项得出，O(n)的时间复杂度就可以得出结果</p><h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><h5 id="公式法"><a href="#公式法" class="headerlink" title="公式法"></a>公式法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">climbStairs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> sqrt5 = Math.sqrt(<span class="number">5</span>);</span><br><span class="line">        <span class="keyword">double</span> fib = Math.pow((<span class="number">1</span>+sqrt5)/<span class="number">2</span>,n+<span class="number">1</span>) - Math.pow((<span class="number">1</span>-sqrt5)/<span class="number">2</span>, n+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">int</span>)(fib/sqrt5);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note info"><p>很多同学对第四行为什么是<font color='red'>n+1</font>而不是<font color='red'>n</font>有疑问，其实这个就在于对斐波那契数列的了解程度了，其实对于斐波那契数列，最开始的两项应该是0和1，但是0+1=1，这样的话，最开始那一项对我们的结果没有什么影响，所以，我们的斐波那契数列，应该是这个样子的</p><script type="math/tex; mode=display">1,1,2,3,5,8,13,21,34,\cdots</script><p>但是我们的算法第一项是1，第二项就是2，故而此时第n项就应该是第<font color='red'>n+1</font>项斐波那契数列的值，ok，分析结束:wink:</p></div><p><strong>结果</strong></p><p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109161943774.png" alt="公式法结果"></p><h5 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">climbStairs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> p = <span class="number">1</span>,q = <span class="number">2</span>,r = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>)<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">2</span>)<span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            r = p + q;</span><br><span class="line">            p = q;</span><br><span class="line">            q = r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>结果</strong></p><p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109161956443.png" alt="动态规划力扣结果"></p><h4 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h4><p>这个深刻的解释了，<font color='cornflowerblue'>算法的本质是数学</font>。加油！！！</p><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://ss0.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=2588865287,1293565697&amp;amp;fm=26&amp;amp;gp=0.jpg&quot; alt=&quot;上楼梯&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="https://conquerorlei.github.io/categories/Java/"/>
    
    <category term="Algorithm" scheme="https://conquerorlei.github.io/categories/Algorithm/"/>
    
    <category term="动态规划" scheme="https://conquerorlei.github.io/categories/Algorithm/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
    <category term="递归" scheme="https://conquerorlei.github.io/categories/Algorithm/%E9%80%92%E5%BD%92/"/>
    
    <category term="斐波那契数列" scheme="https://conquerorlei.github.io/categories/Algorithm/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97/"/>
    
    
    <category term="Daily" scheme="https://conquerorlei.github.io/tags/Daily/"/>
    
  </entry>
  
  <entry>
    <title>MySQL CRUD:Delete(删除)</title>
    <link href="https://conquerorlei.github.io/posts/1d5160cb/"/>
    <id>https://conquerorlei.github.io/posts/1d5160cb/</id>
    <published>2021-09-15T03:32:01.000Z</published>
    <updated>2021-09-16T15:54:46.563Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://static2.makeuseofimages.com/wp-content/uploads/2014/03/delete-file.jpg" alt="delete"></p><span id="more"></span><h3 id="删除数据-delete"><a href="#删除数据-delete" class="headerlink" title="删除数据(delete)"></a>删除数据(delete)</h3><h4 id="删除指定数据"><a href="#删除指定数据" class="headerlink" title="删除指定数据"></a>删除指定数据</h4><h5 id="案例表数据与结构"><a href="#案例表数据与结构" class="headerlink" title="案例表数据与结构"></a>案例表数据与结构</h5><p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109151126299.png" alt="exam_result数据"></p><p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109151128884.png" alt="exam_result结构"></p><h5 id="删除指定行"><a href="#删除指定行" class="headerlink" title="删除指定行"></a>删除指定行</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">delete</span> <span class="keyword">from</span> exam_result <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;宋公明&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> exam_result <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;宋公明&#x27;</span>;</span><br><span class="line"><span class="keyword">Empty</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="删除整张表"><a href="#删除整张表" class="headerlink" title="删除整张表"></a>删除整张表</h4><h5 id="测试表数据与结构"><a href="#测试表数据与结构" class="headerlink" title="测试表数据与结构"></a>测试表数据与结构</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">describe</span> for_delete;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> auto_increment <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name  <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">20</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> for_delete;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> A    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> B    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> C    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><h5 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">delete</span> <span class="keyword">from</span> for_delete;</span><br><span class="line">Query OK, <span class="number">3</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> for_delete;</span><br><span class="line"><span class="keyword">Empty</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h5 id="删除之后再插入"><a href="#删除之后再插入" class="headerlink" title="删除之后再插入"></a>删除之后再插入</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> for_delete(name) <span class="keyword">values</span>(<span class="string">&#x27;D&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> for_delete;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> D    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><div class="note primary"><p>需要注意的是，尽管delete删除了整个表，但他是对数据进行操作的，表结构没有更改，在进行再次插入的时候，自增的键会从上次最后一个值(也就是原值)开始增加</p></div><h3 id="截断表-truncate"><a href="#截断表-truncate" class="headerlink" title="截断表(truncate)"></a>截断表(truncate)</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">truncate</span> [<span class="keyword">table</span>] table_name</span><br></pre></td></tr></table></figure><div class="note success"><ol><li>只能对整个表进行操作，不能像delete对指定数据或者指定行进行操作</li><li>实际上MySQL没有对数据进行操作，所以比delete快</li><li>会重置auto_increment，</li></ol></div><h4 id="测试表结构和数据"><a href="#测试表结构和数据" class="headerlink" title="测试表结构和数据"></a>测试表结构和数据</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> for_truncate;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> A    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> B    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> C    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">describe</span> for_truncate;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> auto_increment <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name  <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">10</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><h4 id="使用truncate命令"><a href="#使用truncate命令" class="headerlink" title="使用truncate命令"></a>使用truncate命令</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">truncate</span> for_truncate;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.05</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> for_truncate;</span><br><span class="line"><span class="keyword">Empty</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> for_truncate(name) <span class="keyword">values</span>(<span class="string">&#x27;D&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> for_truncate;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> D    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><div class="note info"><blockquote><ol><li>截断整张表影响的行数是0，所以没有对数据进行操作</li><li>执行truncate之后再插入，自增清零重新增长</li></ol></blockquote></div><div class="note primary"><p>关于truncate的具体原理，这里不具体提及。truncate不会逐个清除用户数据块上的数据，而仅仅重置数据字典和元数据块上的元数据。换个方式理解的话，就是对映射关系进行了重置，但是本来存储在指定物理结构中的数据还是存在的，这些数据已经无效，所占用的物理空间等待系统回收。</p></div><p>由于truncate删除的数据存在，所以按理论来说是有回复的可能的。但是整个过程是非常麻烦的。所以一般我们在使用truncate命令之前，一般都会先将信息复制一遍</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> for_truncate;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> A    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> B    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> C    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> copy_for_truncate <span class="keyword">like</span> for_truncate;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.05</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> copy_for_truncate</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">select</span> <span class="keyword">distinct</span> <span class="operator">*</span> <span class="keyword">from</span> for_truncate;</span><br><span class="line">Query OK, <span class="number">3</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line">Records: <span class="number">3</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> copy_for_truncate;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> A    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> B    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> C    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><p>然后之后再恢复的时候，再按照流程走一遍就好了。这个坏处就是，不能线上恢复，不然数据正在被使用，然后truncate，直接崩。这个命令，还是不要轻易使用。还有就是，这样的话，其实没有完成任何操作，形成了一个闭环。</p><h3 id="重命名"><a href="#重命名" class="headerlink" title="重命名"></a>重命名</h3><p>重命名也可以删除表，这个删除是假的，表重命名了而已。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> tables;</span><br><span class="line"><span class="operator">+</span><span class="comment">---------------------+</span></span><br><span class="line"><span class="operator">|</span> Tables_in_test_0906 <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------------+</span></span><br><span class="line"><span class="operator">|</span> copy_for_truncate   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> exam_result         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> for_delete          <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> for_truncate        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> student             <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> rename <span class="keyword">table</span> copy_for_truncate <span class="keyword">to</span> table1;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.03</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> tables;</span><br><span class="line"><span class="operator">+</span><span class="comment">---------------------+</span></span><br><span class="line"><span class="operator">|</span> Tables_in_test_0906 <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------------+</span></span><br><span class="line"><span class="operator">|</span> exam_result         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> for_delete          <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> for_truncate        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> student             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> table1              <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><div class="note success"><font color='red'>妈妈，他骗我！！！！！</font></div><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://static2.makeuseofimages.com/wp-content/uploads/2014/03/delete-file.jpg&quot; alt=&quot;delete&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Database" scheme="https://conquerorlei.github.io/categories/Database/"/>
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/categories/Database/MySQL/"/>
    
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/tags/MySQL/"/>
    
    <category term="CRUD" scheme="https://conquerorlei.github.io/tags/CRUD/"/>
    
  </entry>
  
  <entry>
    <title>MySQL CRUD:Update(更新)</title>
    <link href="https://conquerorlei.github.io/posts/a54a76b0/"/>
    <id>https://conquerorlei.github.io/posts/a54a76b0/</id>
    <published>2021-09-15T03:31:33.000Z</published>
    <updated>2021-09-16T15:54:46.567Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://tse2-mm.cn.bing.net/th/id/OIP-C.KvdS1VFn8-gxlmTEWh_nPwHaFz?pid=ImgDet&amp;rs=1" alt="update"></p><span id="more"></span><h3 id="数据表和结构"><a href="#数据表和结构" class="headerlink" title="数据表和结构"></a>数据表和结构</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; describe exam_result;</span><br><span class="line">+---------+-------------+------+-----+---------+----------------+</span><br><span class="line">| Field   | Type        | Null | Key | Default | Extra          |</span><br><span class="line">+---------+-------------+------+-----+---------+----------------+</span><br><span class="line">| id      | int         | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name    | varchar(20) | NO   |     | NULL    |                |</span><br><span class="line">| chinese | float       | YES  |     | 0       |                |</span><br><span class="line">| math    | float       | YES  |     | 0       |                |</span><br><span class="line">| english | float       | YES  |     | 0       |                |</span><br><span class="line">+---------+-------------+------+-----+---------+----------------+</span><br><span class="line">5 rows in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from exam_result;</span><br><span class="line">+----+--------+---------+------+---------+</span><br><span class="line">| id | name   | chinese | math | english |</span><br><span class="line">+----+--------+---------+------+---------+</span><br><span class="line">|  1 | 唐三藏 |      67 |   98 |      56 |</span><br><span class="line">|  2 | 孙悟空 |      87 |   78 |      77 |</span><br><span class="line">|  3 | 猪悟能 |      88 |   98 |      90 |</span><br><span class="line">|  4 | 曹孟德 |      82 |   84 |      67 |</span><br><span class="line">|  5 | 刘玄德 |      55 |   85 |      45 |</span><br><span class="line">|  6 | 孙策   |      70 |   73 |      78 |</span><br><span class="line">+----+--------+---------+------+---------+</span><br><span class="line">6 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure><h3 id="语法和作用"><a href="#语法和作用" class="headerlink" title="语法和作用"></a>语法和作用</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update table_name <span class="keyword">set</span> <span class="keyword">column</span> <span class="operator">=</span> expr [, <span class="keyword">column</span> <span class="operator">=</span> expe,...] [<span class="keyword">where</span> ...] [<span class="keyword">order</span> <span class="keyword">by</span> ...] [limit ...]</span><br></pre></td></tr></table></figure><p>作用：对查询到的结果进行列植更新</p><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><h4 id="将孙悟空同学的数学成绩变为80"><a href="#将孙悟空同学的数学成绩变为80" class="headerlink" title="将孙悟空同学的数学成绩变为80"></a>将孙悟空同学的数学成绩变为80</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> update exam_result <span class="keyword">set</span> math <span class="operator">=</span> <span class="number">80</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;孙悟空&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"><span class="keyword">Rows</span> matched: <span class="number">1</span>  Changed: <span class="number">1</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> math <span class="keyword">from</span> exam_result <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;孙悟空&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> math <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">80</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><h4 id="将曹孟德的数学成绩变为50，语文成绩变为78"><a href="#将曹孟德的数学成绩变为50，语文成绩变为78" class="headerlink" title="将曹孟德的数学成绩变为50，语文成绩变为78"></a>将曹孟德的数学成绩变为50，语文成绩变为78</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> update exam_result <span class="keyword">set</span> math <span class="operator">=</span> <span class="number">50</span>,chinese <span class="operator">=</span> <span class="number">78</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;曹孟德&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"><span class="keyword">Rows</span> matched: <span class="number">1</span>  Changed: <span class="number">1</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,chinese,math <span class="keyword">from</span> exam_result <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;曹孟德&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> chinese <span class="operator">|</span> math <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+------+</span></span><br><span class="line"><span class="operator">|</span> 曹孟德 <span class="operator">|</span>      <span class="number">78</span> <span class="operator">|</span>   <span class="number">50</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="将总成绩倒数前三的同学数学加上30分"><a href="#将总成绩倒数前三的同学数学加上30分" class="headerlink" title="将总成绩倒数前三的同学数学加上30分"></a>将总成绩倒数前三的同学数学加上30分</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> update exam_result <span class="keyword">set</span> math <span class="operator">=</span> math <span class="operator">+</span> <span class="number">30</span> <span class="keyword">order</span> <span class="keyword">by</span> chinese <span class="operator">+</span> math <span class="operator">+</span> english limit <span class="number">3</span>;</span><br><span class="line">Query OK, <span class="number">3</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"><span class="keyword">Rows</span> matched: <span class="number">3</span>  Changed: <span class="number">3</span>  Warnings: <span class="number">0</span></span><br></pre></td></tr></table></figure><div class="note info"><p>需要注意的是，MySQL不支持<font color='red'>+=</font>语法</p></div><h4 id="将所有同学的语文成绩乘2"><a href="#将所有同学的语文成绩乘2" class="headerlink" title="将所有同学的语文成绩乘2"></a>将所有同学的语文成绩乘2</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,chinese <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> chinese <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="operator">|</span> 唐三藏 <span class="operator">|</span>      <span class="number">67</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙悟空 <span class="operator">|</span>      <span class="number">87</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 猪悟能 <span class="operator">|</span>      <span class="number">88</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 曹孟德 <span class="operator">|</span>      <span class="number">78</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刘玄德 <span class="operator">|</span>      <span class="number">55</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙策   <span class="operator">|</span>      <span class="number">70</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="number">6</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> update exam_result <span class="keyword">set</span> chinese <span class="operator">=</span> chinese <span class="operator">*</span> <span class="number">2</span>;</span><br><span class="line">Query OK, <span class="number">6</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"><span class="keyword">Rows</span> matched: <span class="number">6</span>  Changed: <span class="number">6</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,chinese <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> chinese <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="operator">|</span> 唐三藏 <span class="operator">|</span>     <span class="number">134</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙悟空 <span class="operator">|</span>     <span class="number">174</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 猪悟能 <span class="operator">|</span>     <span class="number">176</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 曹孟德 <span class="operator">|</span>     <span class="number">156</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刘玄德 <span class="operator">|</span>     <span class="number">110</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙策   <span class="operator">|</span>     <span class="number">140</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="number">6</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><div class="note warning"><p>对整个表更新的操作需要慎用</p></div><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://tse2-mm.cn.bing.net/th/id/OIP-C.KvdS1VFn8-gxlmTEWh_nPwHaFz?pid=ImgDet&amp;amp;rs=1&quot; alt=&quot;update&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Database" scheme="https://conquerorlei.github.io/categories/Database/"/>
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/categories/Database/MySQL/"/>
    
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/tags/MySQL/"/>
    
    <category term="CRUD" scheme="https://conquerorlei.github.io/tags/CRUD/"/>
    
  </entry>
  
  <entry>
    <title>MySQL CRUD:Retrieve(检索)</title>
    <link href="https://conquerorlei.github.io/posts/b23f0e36/"/>
    <id>https://conquerorlei.github.io/posts/b23f0e36/</id>
    <published>2021-09-15T03:30:53.000Z</published>
    <updated>2021-09-17T12:25:17.497Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://tse4-mm.cn.bing.net/th/id/OIP-C.FxU8bkrfIqTnzEfvIXNxDAHaFj?pid=ImgDet&amp;rs=1" alt="Retrieve"></p><span id="more"></span><h3 id="语法结构"><a href="#语法结构" class="headerlink" title="语法结构"></a>语法结构</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">[<span class="keyword">distinct</span>] &#123; <span class="operator">|</span> &#123;<span class="keyword">column</span> [,<span class="keyword">column</span>] ...&#125;&#125;</span><br><span class="line">[<span class="keyword">from</span> table_name]</span><br><span class="line">[<span class="keyword">where</span> ...]</span><br><span class="line">[<span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">column</span> [<span class="keyword">asc</span> <span class="operator">|</span> <span class="keyword">desc</span>],...]</span><br><span class="line">[limit ...]</span><br></pre></td></tr></table></figure><h3 id="数据库数据"><a href="#数据库数据" class="headerlink" title="数据库数据"></a>数据库数据</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> exam_result(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">chinese <span class="type">float</span> <span class="keyword">default</span> <span class="number">0.0</span> comment <span class="string">&#x27;语文成绩&#x27;</span>,</span><br><span class="line">math <span class="type">float</span> <span class="keyword">default</span> <span class="number">0.0</span> comment <span class="string">&#x27;数学成绩&#x27;</span>,</span><br><span class="line">english <span class="type">float</span> <span class="keyword">default</span> <span class="number">0.0</span> comment <span class="string">&#x27;英语成绩&#x27;</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> exam_result(name,chinese,math,english) <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;唐三藏&#x27;</span>,<span class="number">67</span>,<span class="number">98</span>,<span class="number">56</span>),</span><br><span class="line">(<span class="string">&#x27;孙悟空&#x27;</span>,<span class="number">87</span>,<span class="number">78</span>,<span class="number">77</span>),</span><br><span class="line">(<span class="string">&#x27;猪悟能&#x27;</span>,<span class="number">88</span>,<span class="number">98</span>,<span class="number">90</span>),</span><br><span class="line">(<span class="string">&#x27;曹孟德&#x27;</span>,<span class="number">82</span>,<span class="number">84</span>,<span class="number">67</span>),</span><br><span class="line">(<span class="string">&#x27;刘玄德&#x27;</span>,<span class="number">55</span>,<span class="number">85</span>,<span class="number">45</span>),</span><br><span class="line">(<span class="string">&#x27;孙策&#x27;</span>,<span class="number">70</span>,<span class="number">73</span>,<span class="number">78</span>),</span><br><span class="line">(<span class="string">&#x27;宋公明&#x27;</span>,<span class="number">75</span>,<span class="number">65</span>,<span class="number">30</span>);</span><br></pre></td></tr></table></figure><h3 id="select列"><a href="#select列" class="headerlink" title="select列"></a>select列</h3><h4 id="全列查询"><a href="#全列查询" class="headerlink" title="全列查询"></a>全列查询</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> chinese <span class="operator">|</span> math <span class="operator">|</span> english <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> 唐三藏 <span class="operator">|</span>      <span class="number">67</span> <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span>      <span class="number">56</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> 孙悟空 <span class="operator">|</span>      <span class="number">87</span> <span class="operator">|</span>   <span class="number">78</span> <span class="operator">|</span>      <span class="number">77</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> 猪悟能 <span class="operator">|</span>      <span class="number">88</span> <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span>      <span class="number">90</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> 曹孟德 <span class="operator">|</span>      <span class="number">82</span> <span class="operator">|</span>   <span class="number">84</span> <span class="operator">|</span>      <span class="number">67</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> 刘玄德 <span class="operator">|</span>      <span class="number">55</span> <span class="operator">|</span>   <span class="number">85</span> <span class="operator">|</span>      <span class="number">45</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> 孙策   <span class="operator">|</span>      <span class="number">70</span> <span class="operator">|</span>   <span class="number">73</span> <span class="operator">|</span>      <span class="number">78</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> 宋公明 <span class="operator">|</span>      <span class="number">75</span> <span class="operator">|</span>   <span class="number">65</span> <span class="operator">|</span>      <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><div class="note warning"><p>通常情况下不建议使用<code>*</code>进行全列查询</p><ul><li>查询的列越多，一般来说传输的数据量也就越大</li><li>可能会影响到索引的使用</li></ul></div><h4 id="指定列查询"><a href="#指定列查询" class="headerlink" title="指定列查询"></a>指定列查询</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> id,name,chinese <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> chinese <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> 唐三藏 <span class="operator">|</span>      <span class="number">67</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> 孙悟空 <span class="operator">|</span>      <span class="number">87</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> 猪悟能 <span class="operator">|</span>      <span class="number">88</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> 曹孟德 <span class="operator">|</span>      <span class="number">82</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> 刘玄德 <span class="operator">|</span>      <span class="number">55</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> 孙策   <span class="operator">|</span>      <span class="number">70</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> 宋公明 <span class="operator">|</span>      <span class="number">75</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><div class="note info"><p>指定列的顺序不必按照定义表中的顺序来</p></div><h4 id="查询字段为表达式"><a href="#查询字段为表达式" class="headerlink" title="查询字段为表达式"></a>查询字段为表达式</h4><h5 id="表达式中不包含字段"><a href="#表达式中不包含字段" class="headerlink" title="表达式中不包含字段"></a>表达式中不包含字段</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> id,name,<span class="number">10</span> <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+----+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+----+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> 唐三藏 <span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> 孙悟空 <span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> 猪悟能 <span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> 曹孟德 <span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> 刘玄德 <span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> 孙策   <span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> 宋公明 <span class="operator">|</span> <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+----+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h5 id="表达式中包含一个字段"><a href="#表达式中包含一个字段" class="headerlink" title="表达式中包含一个字段"></a>表达式中包含一个字段</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> id,name,chinese<span class="operator">+</span><span class="number">10</span> <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> chinese<span class="operator">+</span><span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> 唐三藏 <span class="operator">|</span>         <span class="number">77</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> 孙悟空 <span class="operator">|</span>         <span class="number">97</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> 猪悟能 <span class="operator">|</span>         <span class="number">98</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> 曹孟德 <span class="operator">|</span>         <span class="number">92</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> 刘玄德 <span class="operator">|</span>         <span class="number">65</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> 孙策   <span class="operator">|</span>         <span class="number">80</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> 宋公明 <span class="operator">|</span>         <span class="number">85</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+------------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h5 id="表达式中包含多个字段"><a href="#表达式中包含多个字段" class="headerlink" title="表达式中包含多个字段"></a>表达式中包含多个字段</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> id,name,chinese<span class="operator">+</span>math<span class="operator">+</span>english <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+----------------------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> chinese<span class="operator">+</span>math<span class="operator">+</span>english <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+----------------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> 唐三藏 <span class="operator">|</span>                  <span class="number">221</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> 孙悟空 <span class="operator">|</span>                  <span class="number">242</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> 猪悟能 <span class="operator">|</span>                  <span class="number">276</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> 曹孟德 <span class="operator">|</span>                  <span class="number">233</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> 刘玄德 <span class="operator">|</span>                  <span class="number">185</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> 孙策   <span class="operator">|</span>                  <span class="number">221</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> 宋公明 <span class="operator">|</span>                  <span class="number">170</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+----------------------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="为查询结果指定别名关于表达式相关，我们可以使用别名，例如对上述两个例子，可以进行以下操作"><a href="#为查询结果指定别名关于表达式相关，我们可以使用别名，例如对上述两个例子，可以进行以下操作" class="headerlink" title="为查询结果指定别名关于表达式相关，我们可以使用别名，例如对上述两个例子，可以进行以下操作"></a>为查询结果指定别名关于表达式相关，我们可以使用别名，例如对上述两个例子，可以进行以下操作</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> id,name,chinese<span class="operator">+</span>math<span class="operator">+</span>english <span class="keyword">as</span> sum <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> sum  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> 唐三藏 <span class="operator">|</span>  <span class="number">221</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> 孙悟空 <span class="operator">|</span>  <span class="number">242</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> 猪悟能 <span class="operator">|</span>  <span class="number">276</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> 曹孟德 <span class="operator">|</span>  <span class="number">233</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> 刘玄德 <span class="operator">|</span>  <span class="number">185</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> 孙策   <span class="operator">|</span>  <span class="number">221</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> 宋公明 <span class="operator">|</span>  <span class="number">170</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><div class="note success"><p>as可以省略</p></div><h4 id="结果去重"><a href="#结果去重" class="headerlink" title="结果去重"></a>结果去重</h4><p>使用关键字<font color='red'>distinct</font></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> math <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> math <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">78</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">84</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">85</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">73</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">65</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="keyword">distinct</span> math <span class="keyword">from</span> exam_result;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> math <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">78</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">84</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">85</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">73</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">65</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">6</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><h3 id="where条件"><a href="#where条件" class="headerlink" title="where条件"></a>where条件</h3><h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><p><strong>比较运算符</strong></p><div class="table-container"><table><thead><tr><th>运算符</th><th>说明</th></tr></thead><tbody><tr><td>&gt;,&gt;=,&lt;,&lt;=</td><td>大于，大于等于，小于，小于等于</td></tr><tr><td>=</td><td>等于，<font color='red'>NULL不安全</font>，例如<font color='cornflowerblue'>NULL=NULL结果为NULL</font></td></tr><tr><td>&lt;=&gt;</td><td>等于，<font color='red'>NULL安全</font>，例如<font color='cornflowerblue'>NULL&lt;=&gt;NULL结果返回true(1)</font></td></tr><tr><td>!=,&lt;&gt;</td><td>不等于</td></tr><tr><td>between a and b</td><td>范围匹配，value $\in$ [a，b]则返回true(1)</td></tr><tr><td>in(option,$\cdots$​​)</td><td>如果是option中的任意一个，返回true(1)</td></tr><tr><td>is null</td><td>是NULL</td></tr><tr><td>is not null</td><td>不是NULL</td></tr><tr><td>like</td><td>模糊匹配。%类似占位符，表示任意个数字符；_表示任意一个字符</td></tr></tbody></table></div><p><strong>逻辑运算符</strong></p><div class="table-container"><table><thead><tr><th>运算符</th><th>说明</th></tr></thead><tbody><tr><td>and</td><td>多个条件必须都是true(1)，结果才是true(1)</td></tr><tr><td>or</td><td>多个结果只要有一个是true(1)，结果即为true(1)</td></tr><tr><td>not</td><td>条件为true(1)，结果为false(0)</td></tr></tbody></table></div><h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><h5 id="英语不及格的同学以及英语成绩输出-lt-60"><a href="#英语不及格的同学以及英语成绩输出-lt-60" class="headerlink" title="英语不及格的同学以及英语成绩输出(&lt;60)"></a>英语不及格的同学以及英语成绩输出(&lt;60)</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,english <span class="keyword">from</span> exam_result <span class="keyword">where</span> english <span class="operator">&lt;</span> <span class="number">60</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> english <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="operator">|</span> 唐三藏 <span class="operator">|</span>      <span class="number">56</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刘玄德 <span class="operator">|</span>      <span class="number">45</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 宋公明 <span class="operator">|</span>      <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><h5 id="语文成绩在-80-90-之间的同学以及语文成绩"><a href="#语文成绩在-80-90-之间的同学以及语文成绩" class="headerlink" title="语文成绩在[80,90]之间的同学以及语文成绩"></a>语文成绩在[80,90]之间的同学以及语文成绩</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,chinese <span class="keyword">from</span> exam_result <span class="keyword">where</span> chinese <span class="keyword">between</span> <span class="number">80</span> <span class="keyword">and</span> <span class="number">90</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> chinese <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="operator">|</span> 孙悟空 <span class="operator">|</span>      <span class="number">87</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 猪悟能 <span class="operator">|</span>      <span class="number">88</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 曹孟德 <span class="operator">|</span>      <span class="number">82</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><div class="note info"><p>当然，可以使用<font color='red'>&lt;=</font>和<font color='red'>&gt;=</font></p></div><h5 id="数学成绩及格-60-70-或者优秀-gt-90-的同学以及数学成绩"><a href="#数学成绩及格-60-70-或者优秀-gt-90-的同学以及数学成绩" class="headerlink" title="数学成绩及格([60,70))或者优秀(&gt;90)的同学以及数学成绩"></a>数学成绩及格([60,70))或者优秀(&gt;90)的同学以及数学成绩</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,math <span class="keyword">from</span> exam_result <span class="keyword">where</span> math <span class="keyword">between</span> <span class="number">60</span> <span class="keyword">and</span> <span class="number">70</span> <span class="keyword">or</span> math <span class="operator">&gt;</span> <span class="number">90</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> math <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> 唐三藏 <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 猪悟能 <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 宋公明 <span class="operator">|</span>   <span class="number">65</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h5 id="姓孙的同学"><a href="#姓孙的同学" class="headerlink" title="姓孙的同学"></a>姓孙的同学</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name <span class="keyword">from</span> exam_result <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;孙%&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+</span></span><br><span class="line"><span class="operator">|</span> 孙悟空 <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙策   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h5 id="语文成绩好于数学成绩的同学"><a href="#语文成绩好于数学成绩的同学" class="headerlink" title="语文成绩好于数学成绩的同学"></a>语文成绩好于数学成绩的同学</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,chinese,math <span class="keyword">from</span> exam_result <span class="keyword">where</span> chinese <span class="operator">&lt;</span> math;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> chinese <span class="operator">|</span> math <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+------+</span></span><br><span class="line"><span class="operator">|</span> 唐三藏 <span class="operator">|</span>      <span class="number">67</span> <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 猪悟能 <span class="operator">|</span>      <span class="number">88</span> <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 曹孟德 <span class="operator">|</span>      <span class="number">82</span> <span class="operator">|</span>   <span class="number">84</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刘玄德 <span class="operator">|</span>      <span class="number">55</span> <span class="operator">|</span>   <span class="number">85</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙策   <span class="operator">|</span>      <span class="number">70</span> <span class="operator">|</span>   <span class="number">73</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h5 id="总分在200分之下的同学"><a href="#总分在200分之下的同学" class="headerlink" title="总分在200分之下的同学"></a>总分在200分之下的同学</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,chinese <span class="operator">+</span> math <span class="operator">+</span> english <span class="keyword">as</span> sum <span class="keyword">from</span> exam_result <span class="keyword">where</span> chinese <span class="operator">+</span> math <span class="operator">+</span> english <span class="operator">&lt;</span> <span class="number">200</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> sum  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> 刘玄德 <span class="operator">|</span>  <span class="number">185</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 宋公明 <span class="operator">|</span>  <span class="number">170</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><div class="note danger"><p>需要注意的是，在where之后不能使用指定的表达式别名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,chinese <span class="operator">+</span> math <span class="operator">+</span> english <span class="keyword">as</span> sum <span class="keyword">from</span> exam_result <span class="keyword">where</span> sum <span class="operator">&lt;</span> <span class="number">200</span>;</span><br><span class="line">ERROR <span class="number">1054</span> (<span class="number">42</span>S22): <span class="literal">Unknown</span> <span class="keyword">column</span> <span class="string">&#x27;sum&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;where clause&#x27;</span></span><br></pre></td></tr></table></figure></div><h5 id="语文成绩大于80且不姓孙的同学"><a href="#语文成绩大于80且不姓孙的同学" class="headerlink" title="语文成绩大于80且不姓孙的同学"></a>语文成绩大于80且不姓孙的同学</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,chinese <span class="keyword">from</span> exam_result <span class="keyword">where</span> chinese <span class="operator">&gt;</span> <span class="number">80</span> <span class="keyword">and</span> name <span class="keyword">not</span> <span class="keyword">like</span> <span class="string">&#x27;孙%&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> chinese <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="operator">|</span> 猪悟能 <span class="operator">|</span>      <span class="number">88</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 曹孟德 <span class="operator">|</span>      <span class="number">82</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h5 id="孙某同学，否则总成绩大于200并且语文成绩小于数学成绩并且英语成绩大于80"><a href="#孙某同学，否则总成绩大于200并且语文成绩小于数学成绩并且英语成绩大于80" class="headerlink" title="孙某同学，否则总成绩大于200并且语文成绩小于数学成绩并且英语成绩大于80"></a>孙某同学，否则总成绩大于200并且语文成绩小于数学成绩并且英语成绩大于80</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,chinese,math,english,chinese <span class="operator">+</span> math <span class="operator">+</span> english <span class="keyword">as</span> sum <span class="keyword">from</span> exam_result</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;孙%&#x27;</span> <span class="keyword">or</span> (</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> chinese <span class="operator">+</span> math <span class="operator">+</span> english <span class="operator">&gt;</span> <span class="number">200</span> <span class="keyword">and</span></span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> chinese <span class="operator">&lt;</span> math <span class="keyword">and</span></span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> english <span class="operator">&gt;</span> <span class="number">80</span>);</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+------+---------+------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> chinese <span class="operator">|</span> math <span class="operator">|</span> english <span class="operator">|</span> sum  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+------+---------+------+</span></span><br><span class="line"><span class="operator">|</span> 孙悟空 <span class="operator">|</span>      <span class="number">87</span> <span class="operator">|</span>   <span class="number">78</span> <span class="operator">|</span>      <span class="number">77</span> <span class="operator">|</span>  <span class="number">242</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 猪悟能 <span class="operator">|</span>      <span class="number">88</span> <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span>      <span class="number">90</span> <span class="operator">|</span>  <span class="number">276</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙策   <span class="operator">|</span>      <span class="number">70</span> <span class="operator">|</span>   <span class="number">73</span> <span class="operator">|</span>      <span class="number">78</span> <span class="operator">|</span>  <span class="number">221</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+------+---------+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h5 id="NULL的查询"><a href="#NULL的查询" class="headerlink" title="NULL的查询"></a>NULL的查询</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="operator">|</span> id  <span class="operator">|</span> sn    <span class="operator">|</span> name   <span class="operator">|</span> qq    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">100</span> <span class="operator">|</span> <span class="number">10010</span> <span class="operator">|</span> 唐大师 <span class="operator">|</span> <span class="number">22222</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">101</span> <span class="operator">|</span> <span class="number">10001</span> <span class="operator">|</span> 小舞   <span class="operator">|</span> <span class="number">11111</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">102</span> <span class="operator">|</span> <span class="number">10003</span> <span class="operator">|</span> 朱竹青 <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">103</span> <span class="operator">|</span> <span class="number">10004</span> <span class="operator">|</span> 奥斯卡 <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name, qq <span class="keyword">from</span> students <span class="keyword">where</span> qq <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> qq    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------+</span></span><br><span class="line"><span class="operator">|</span> 唐大师 <span class="operator">|</span> <span class="number">22222</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 小舞   <span class="operator">|</span> <span class="number">11111</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="结果排序"><a href="#结果排序" class="headerlink" title="结果排序"></a>结果排序</h3><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">column</span> [<span class="keyword">asc</span> <span class="operator">|</span> <span class="keyword">desc</span>],...</span><br></pre></td></tr></table></figure><ul><li>asc: 升序，从小到大</li><li>desc:降序，从大到小</li></ul><div class="note warning"><p>没有order by子句的查询，返回的顺序是没有定义的<div class="note info"><p>默认升序</p></div></p></div><h4 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h4><h5 id="同学以及数学成绩，成绩升序"><a href="#同学以及数学成绩，成绩升序" class="headerlink" title="同学以及数学成绩，成绩升序"></a>同学以及数学成绩，成绩升序</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 默认升序</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,math <span class="keyword">from</span> exam_result <span class="keyword">order</span> <span class="keyword">by</span> math;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> math <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> 宋公明 <span class="operator">|</span>   <span class="number">65</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙策   <span class="operator">|</span>   <span class="number">73</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙悟空 <span class="operator">|</span>   <span class="number">78</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 曹孟德 <span class="operator">|</span>   <span class="number">84</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刘玄德 <span class="operator">|</span>   <span class="number">85</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 唐三藏 <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 猪悟能 <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,math <span class="keyword">from</span> exam_result <span class="keyword">order</span> <span class="keyword">by</span> math <span class="keyword">asc</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> math <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> 宋公明 <span class="operator">|</span>   <span class="number">65</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙策   <span class="operator">|</span>   <span class="number">73</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙悟空 <span class="operator">|</span>   <span class="number">78</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 曹孟德 <span class="operator">|</span>   <span class="number">84</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刘玄德 <span class="operator">|</span>   <span class="number">85</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 唐三藏 <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 猪悟能 <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h5 id="同学以及QQ号，按QQ号排序显示"><a href="#同学以及QQ号，按QQ号排序显示" class="headerlink" title="同学以及QQ号，按QQ号排序显示"></a>同学以及QQ号，按QQ号排序显示</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,qq <span class="keyword">from</span> students <span class="keyword">order</span> <span class="keyword">by</span> qq;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> qq    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------+</span></span><br><span class="line"><span class="operator">|</span> 朱竹青 <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 奥斯卡 <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 小舞   <span class="operator">|</span> <span class="number">11111</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 唐大师 <span class="operator">|</span> <span class="number">22222</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><div class="note success"><p>NULL比任何值都小，排在最上面</p></div><h5 id="查询同学各门成绩，依次为数学降序，英语升序，语文升序的方式进行"><a href="#查询同学各门成绩，依次为数学降序，英语升序，语文升序的方式进行" class="headerlink" title="查询同学各门成绩，依次为数学降序，英语升序，语文升序的方式进行"></a>查询同学各门成绩，依次为数学降序，英语升序，语文升序的方式进行</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,math,english,chinese <span class="keyword">from</span> exam_result</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">order</span> <span class="keyword">by</span> math <span class="keyword">desc</span>,english,chinese;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+---------+---------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> math <span class="operator">|</span> english <span class="operator">|</span> chinese <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+---------+---------+</span></span><br><span class="line"><span class="operator">|</span> 唐三藏 <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span>      <span class="number">56</span> <span class="operator">|</span>      <span class="number">67</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 猪悟能 <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span>      <span class="number">90</span> <span class="operator">|</span>      <span class="number">88</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刘玄德 <span class="operator">|</span>   <span class="number">85</span> <span class="operator">|</span>      <span class="number">45</span> <span class="operator">|</span>      <span class="number">55</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 曹孟德 <span class="operator">|</span>   <span class="number">84</span> <span class="operator">|</span>      <span class="number">67</span> <span class="operator">|</span>      <span class="number">82</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙悟空 <span class="operator">|</span>   <span class="number">78</span> <span class="operator">|</span>      <span class="number">77</span> <span class="operator">|</span>      <span class="number">87</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙策   <span class="operator">|</span>   <span class="number">73</span> <span class="operator">|</span>      <span class="number">78</span> <span class="operator">|</span>      <span class="number">70</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 宋公明 <span class="operator">|</span>   <span class="number">65</span> <span class="operator">|</span>      <span class="number">30</span> <span class="operator">|</span>      <span class="number">75</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+---------+---------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><div class="note info"><p>多字段排序，排序优先级按照书写顺序。math写在最前面，优先级最高。其次是英语，最后是语文。<div class="note warning"><p>优先级是按照order by之后的书写顺序来确定的</p></div></p></div><h5 id="查询同学总分，并按照总分排序，降序"><a href="#查询同学总分，并按照总分排序，降序" class="headerlink" title="查询同学总分，并按照总分排序，降序"></a>查询同学总分，并按照总分排序，降序</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,chinese <span class="operator">+</span> math <span class="operator">+</span> english <span class="keyword">as</span> sum</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">from</span> exam_result</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">order</span> <span class="keyword">by</span> chinese <span class="operator">+</span> math <span class="operator">+</span> english <span class="keyword">desc</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> sum  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> 猪悟能 <span class="operator">|</span>  <span class="number">276</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙悟空 <span class="operator">|</span>  <span class="number">242</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 曹孟德 <span class="operator">|</span>  <span class="number">233</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 唐三藏 <span class="operator">|</span>  <span class="number">221</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙策   <span class="operator">|</span>  <span class="number">221</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刘玄德 <span class="operator">|</span>  <span class="number">185</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 宋公明 <span class="operator">|</span>  <span class="number">170</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,chinese <span class="operator">+</span> math <span class="operator">+</span> english <span class="keyword">as</span> sum</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">from</span> exam_result</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">order</span> <span class="keyword">by</span> sum <span class="keyword">desc</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> sum  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> 猪悟能 <span class="operator">|</span>  <span class="number">276</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙悟空 <span class="operator">|</span>  <span class="number">242</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 曹孟德 <span class="operator">|</span>  <span class="number">233</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 唐三藏 <span class="operator">|</span>  <span class="number">221</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙策   <span class="operator">|</span>  <span class="number">221</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 刘玄德 <span class="operator">|</span>  <span class="number">185</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 宋公明 <span class="operator">|</span>  <span class="number">170</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><div class="note success"><p>order by后面可以用指定的别名</p></div><h5 id="查询姓孙或者姓曹的同学以及数学成绩，按照数学成绩降序"><a href="#查询姓孙或者姓曹的同学以及数学成绩，按照数学成绩降序" class="headerlink" title="查询姓孙或者姓曹的同学以及数学成绩，按照数学成绩降序"></a>查询姓孙或者姓曹的同学以及数学成绩，按照数学成绩降序</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> name,math</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">from</span> exam_result</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;孙%&#x27;</span></span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">or</span> name <span class="keyword">like</span> <span class="string">&#x27;曹%&#x27;</span></span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">order</span> <span class="keyword">by</span> math <span class="keyword">desc</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> math <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="operator">|</span> 曹孟德 <span class="operator">|</span>   <span class="number">84</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙悟空 <span class="operator">|</span>   <span class="number">78</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 孙策   <span class="operator">|</span>   <span class="number">73</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="筛选分页结果"><a href="#筛选分页结果" class="headerlink" title="筛选分页结果"></a>筛选分页结果</h3><h4 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 从0开始，筛选n条结果</span></span><br><span class="line"><span class="keyword">select</span> ... <span class="keyword">from</span> table_name [<span class="keyword">where</span> ...] [<span class="keyword">order</span> <span class="keyword">by</span> ...] limit n;</span><br><span class="line"><span class="comment">-- 从s开始，筛选n条结果</span></span><br><span class="line"><span class="keyword">select</span> ... <span class="keyword">from</span> table_name [<span class="keyword">where</span> ...] [<span class="keyword">order</span> <span class="keyword">by</span> ...] limit s,n;</span><br><span class="line"><span class="keyword">select</span> ... <span class="keyword">from</span> table_name [<span class="keyword">where</span> ...] [<span class="keyword">order</span> <span class="keyword">by</span> ...] limit n <span class="keyword">offset</span> s;</span><br></pre></td></tr></table></figure><div class="note success"><p>对未知表查询时，最好加一条<font color='lawngreen'>limit 1</font>，避免数据量过大导致数据库卡死</p></div><h4 id="案例-2"><a href="#案例-2" class="headerlink" title="案例"></a>案例</h4><h5 id="按id分页，每页三条记录，分别显示第1-2-3页"><a href="#按id分页，每页三条记录，分别显示第1-2-3页" class="headerlink" title="按id分页，每页三条记录，分别显示第1,2,3页"></a>按id分页，每页三条记录，分别显示第1,2,3页</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 第一页</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> exam_result</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">order</span> <span class="keyword">by</span> id</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> limit <span class="number">3</span> <span class="keyword">offset</span> <span class="number">0</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> chinese <span class="operator">|</span> math <span class="operator">|</span> english <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> 唐三藏 <span class="operator">|</span>      <span class="number">67</span> <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span>      <span class="number">56</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> 孙悟空 <span class="operator">|</span>      <span class="number">87</span> <span class="operator">|</span>   <span class="number">78</span> <span class="operator">|</span>      <span class="number">77</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> 猪悟能 <span class="operator">|</span>      <span class="number">88</span> <span class="operator">|</span>   <span class="number">98</span> <span class="operator">|</span>      <span class="number">90</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 第二页</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> exam_result</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">order</span> <span class="keyword">by</span> id</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> limit <span class="number">3</span> <span class="keyword">offset</span> <span class="number">3</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> chinese <span class="operator">|</span> math <span class="operator">|</span> english <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">4</span> <span class="operator">|</span> 曹孟德 <span class="operator">|</span>      <span class="number">82</span> <span class="operator">|</span>   <span class="number">84</span> <span class="operator">|</span>      <span class="number">67</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">5</span> <span class="operator">|</span> 刘玄德 <span class="operator">|</span>      <span class="number">55</span> <span class="operator">|</span>   <span class="number">85</span> <span class="operator">|</span>      <span class="number">45</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">6</span> <span class="operator">|</span> 孙策   <span class="operator">|</span>      <span class="number">70</span> <span class="operator">|</span>   <span class="number">73</span> <span class="operator">|</span>      <span class="number">78</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 第三页</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> exam_result</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">order</span> <span class="keyword">by</span> id</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> limit <span class="number">3</span> <span class="keyword">offset</span> <span class="number">6</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="operator">|</span> id <span class="operator">|</span> name   <span class="operator">|</span> chinese <span class="operator">|</span> math <span class="operator">|</span> english <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">7</span> <span class="operator">|</span> 宋公明 <span class="operator">|</span>      <span class="number">75</span> <span class="operator">|</span>   <span class="number">65</span> <span class="operator">|</span>      <span class="number">30</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+--------+---------+------+---------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><div class="note primary"><p>默认是0开始</p></div><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://tse4-mm.cn.bing.net/th/id/OIP-C.FxU8bkrfIqTnzEfvIXNxDAHaFj?pid=ImgDet&amp;amp;rs=1&quot; alt=&quot;Retrieve&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Database" scheme="https://conquerorlei.github.io/categories/Database/"/>
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/categories/Database/MySQL/"/>
    
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/tags/MySQL/"/>
    
    <category term="CRUD" scheme="https://conquerorlei.github.io/tags/CRUD/"/>
    
  </entry>
  
  <entry>
    <title>MySQL CRUD:Create(创建)</title>
    <link href="https://conquerorlei.github.io/posts/ef37b8e4/"/>
    <id>https://conquerorlei.github.io/posts/ef37b8e4/</id>
    <published>2021-09-15T03:29:25.000Z</published>
    <updated>2021-09-16T15:54:46.559Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://tse1-mm.cn.bing.net/th/id/R-C.7eb6f1b75e1bf1c6fa326235ecb3ca51?rik=%2faUb4dT1FhGsnQ&amp;riu=http%3a%2f%2fwww.beautifulwalldecals.com%2fimages%2fT%2fCUS656Create.jpg&amp;ehk=UDJoDEcyMOtVjLGORv3jFvd4fO9Yhy96HlwA63Kr9Hg%3d&amp;risl=&amp;pid=ImgRaw&amp;r=0" alt="create"></p><span id="more"></span><h3 id="数据以及表结构"><a href="#数据以及表结构" class="headerlink" title="数据以及表结构"></a>数据以及表结构</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">describe</span> students;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="operator">|</span> id    <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span> auto_increment <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sn    <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> YES  <span class="operator">|</span> UNI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name  <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">20</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> qq    <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">20</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+----------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students;</span><br><span class="line"><span class="keyword">Empty</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="单行数据-全列插入"><a href="#单行数据-全列插入" class="headerlink" title="单行数据+全列插入"></a>单行数据+全列插入</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> students <span class="keyword">values</span>(<span class="number">100</span>,<span class="number">10000</span>,<span class="string">&#x27;唐三&#x27;</span>,<span class="keyword">null</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> students <span class="keyword">values</span>(<span class="number">101</span>,<span class="number">10001</span>,<span class="string">&#x27;小舞&#x27;</span>,<span class="string">&#x27;11111&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+------+-------+</span></span><br><span class="line"><span class="operator">|</span> id  <span class="operator">|</span> sn    <span class="operator">|</span> name <span class="operator">|</span> qq    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">100</span> <span class="operator">|</span> <span class="number">10000</span> <span class="operator">|</span> 唐三 <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">101</span> <span class="operator">|</span> <span class="number">10001</span> <span class="operator">|</span> 小舞 <span class="operator">|</span> <span class="number">11111</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+------+-------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="多行数据-指定列插入"><a href="#多行数据-指定列插入" class="headerlink" title="多行数据+指定列插入"></a>多行数据+指定列插入</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> students(id,sn,name) <span class="keyword">values</span></span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> (<span class="number">102</span>,<span class="number">10003</span>,<span class="string">&#x27;朱竹青&#x27;</span>),</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> (<span class="number">103</span>,<span class="number">10004</span>,<span class="string">&#x27;奥斯卡&#x27;</span>);</span><br><span class="line">Query OK, <span class="number">2</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br><span class="line">Records: <span class="number">2</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span><span class="operator">*</span> <span class="keyword">from</span> students;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="operator">|</span> id  <span class="operator">|</span> sn    <span class="operator">|</span> name   <span class="operator">|</span> qq    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">100</span> <span class="operator">|</span> <span class="number">10000</span> <span class="operator">|</span> 唐三   <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">101</span> <span class="operator">|</span> <span class="number">10001</span> <span class="operator">|</span> 小舞   <span class="operator">|</span> <span class="number">11111</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">102</span> <span class="operator">|</span> <span class="number">10003</span> <span class="operator">|</span> 朱竹青 <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">103</span> <span class="operator">|</span> <span class="number">10004</span> <span class="operator">|</span> 奥斯卡 <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="插入否则更新"><a href="#插入否则更新" class="headerlink" title="插入否则更新"></a>插入否则更新</h3><div class="note danger"><p>由于主键或者唯一约束对应的值已经存在而导致的插入失败</p></div><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span><span class="operator">*</span> <span class="keyword">from</span> students;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="operator">|</span> id  <span class="operator">|</span> sn    <span class="operator">|</span> name   <span class="operator">|</span> qq    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">100</span> <span class="operator">|</span> <span class="number">10000</span> <span class="operator">|</span> 唐三   <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">101</span> <span class="operator">|</span> <span class="number">10001</span> <span class="operator">|</span> 小舞   <span class="operator">|</span> <span class="number">11111</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">102</span> <span class="operator">|</span> <span class="number">10003</span> <span class="operator">|</span> 朱竹青 <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">103</span> <span class="operator">|</span> <span class="number">10004</span> <span class="operator">|</span> 奥斯卡 <span class="operator">|</span> <span class="keyword">NULL</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 主键约束冲突</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> students <span class="keyword">values</span>(<span class="number">100</span>,<span class="number">10010</span>,<span class="string">&#x27;唐大师&#x27;</span>,<span class="number">22222</span>);</span><br><span class="line">ERROR <span class="number">1062</span> (<span class="number">23000</span>): Duplicate entry <span class="string">&#x27;100&#x27;</span> <span class="keyword">for</span> key <span class="string">&#x27;students.PRIMARY&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 唯一键约束冲突</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> students <span class="keyword">values</span>(<span class="number">104</span>,<span class="number">10000</span>,<span class="string">&#x27;唐大师&#x27;</span>,<span class="number">22222</span>);</span><br><span class="line">ERROR <span class="number">1062</span> (<span class="number">23000</span>): Duplicate entry <span class="string">&#x27;10000&#x27;</span> <span class="keyword">for</span> key <span class="string">&#x27;students.sn&#x27;</span></span><br></pre></td></tr></table></figure><div class="note success"><p>分两种情况</p><ul><li>如果没有冲突，则直接插入</li><li>如果有冲突，则对他的整个一行的值进行部分列更新</li></ul></div><p>冲突的情况下使用的是<font color='red'>on duplicate key update</font></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">insert</span> <span class="keyword">into</span> students <span class="keyword">values</span></span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> (<span class="number">100</span>,<span class="number">10010</span>,<span class="string">&#x27;唐大师&#x27;</span>,<span class="number">22222</span>)</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">on</span> duplicate key update name <span class="operator">=</span> <span class="keyword">values</span>(name), qq <span class="operator">=</span> <span class="keyword">values</span>(qq),sn <span class="operator">=</span> <span class="keyword">values</span>(sn);</span><br><span class="line">Query OK, <span class="number">2</span> <span class="keyword">rows</span> affected, <span class="number">3</span> warnings (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="operator">|</span> id  <span class="operator">|</span> sn    <span class="operator">|</span> name   <span class="operator">|</span> qq    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">100</span> <span class="operator">|</span> <span class="number">10010</span> <span class="operator">|</span> 唐大师 <span class="operator">|</span> <span class="number">22222</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----+-------+--------+-------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://tse1-mm.cn.bing.net/th/id/R-C.7eb6f1b75e1bf1c6fa326235ecb3ca51?rik=%2faUb4dT1FhGsnQ&amp;amp;riu=http%3a%2f%2fwww.beautifulwalldecals.com%2fimages%2fT%2fCUS656Create.jpg&amp;amp;ehk=UDJoDEcyMOtVjLGORv3jFvd4fO9Yhy96HlwA63Kr9Hg%3d&amp;amp;risl=&amp;amp;pid=ImgRaw&amp;amp;r=0&quot; alt=&quot;create&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Database" scheme="https://conquerorlei.github.io/categories/Database/"/>
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/categories/Database/MySQL/"/>
    
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/tags/MySQL/"/>
    
    <category term="CRUD" scheme="https://conquerorlei.github.io/tags/CRUD/"/>
    
  </entry>
  
  <entry>
    <title>MySQL delete</title>
    <link href="https://conquerorlei.github.io/posts/5d234763/"/>
    <id>https://conquerorlei.github.io/posts/5d234763/</id>
    <published>2021-09-15T03:03:03.000Z</published>
    <updated>2021-09-16T15:54:46.552Z</updated>
    
    
    
    
    <category term="Database" scheme="https://conquerorlei.github.io/categories/Database/"/>
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/categories/Database/MySQL/"/>
    
    
    <category term="MySQL" scheme="https://conquerorlei.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>Java数组</title>
    <link href="https://conquerorlei.github.io/posts/e3345db4/"/>
    <id>https://conquerorlei.github.io/posts/e3345db4/</id>
    <published>2021-09-13T09:22:14.000Z</published>
    <updated>2021-09-13T12:40:56.523Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://www.geekxh.com/assets/img/3.305e9fcd.jpg" alt="数组"></p><span id="more"></span><h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p>是多个相同类型的数据按照一定的顺序排列的集合，使用一个名字命名并通过标号的方式对这次为数据进行统一的管理。</p><h4 id="相关概念"><a href="#相关概念" class="headerlink" title="相关概念"></a>相关概念</h4><ol><li>数组名</li><li>元素</li><li>角标</li><li>数组的长度：元素的个数</li></ol><h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ol><li>数组是有序排列的</li></ol><div class="note info"><p>需要注意的是，这个有序指的不是元素本身在数组中是有序的，比如1、2、3、4、5、6、7、8、9，指的是数组中各个元素的排列是有序的，按照标号进行的一个位置排序，不是对内部元素的排序</p></div><ol><li><p>数组是引用类型的变量。数组中的元素可以是基本数据类型，也可以是引用数据类型。</p></li><li><p>创建数组对象时是在内存中开辟的一段连续的内存空间</p></li><li>数组一旦建立，长度不可修改</li></ol><h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><ol><li>按照维度：可以分为一维数组和二维数组</li><li>按照数组中元素：可以是基本数据类型元素的数组，可以是引用数据类型元素的数组</li></ol><h4 id="一维数组的使用"><a href="#一维数组的使用" class="headerlink" title="一维数组的使用"></a>一维数组的使用</h4><h5 id="声明和初始化"><a href="#声明和初始化" class="headerlink" title="声明和初始化"></a>声明和初始化</h5><p>静态初始化:数组初始化和数组元素的赋值同时进行<br>动态初始化：数组初始化合数组元素的赋值操作分开操作</p><div class="note info"><p>数组一旦初始化完成，其长度就确定了</p></div><div class="note success"><p>可以为<font color='red'>int[] nums</font>也可以是<font color='red'>int nums[]</font></p></div><h5 id="调用数组指定位置的元素"><a href="#调用数组指定位置的元素" class="headerlink" title="调用数组指定位置的元素"></a>调用数组指定位置的元素</h5><p>通过下角标的方式调用</p><div class="note success"><p>数组的角标从0开始的，到数组的长度-1结束</p></div><h5 id="获取数组的长度"><a href="#获取数组的长度" class="headerlink" title="获取数组的长度"></a>获取数组的长度</h5><p>根据数组的属性：<font color='red'>length</font></p><h5 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h5><p>循环，直接for或者while都可以</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums ;<span class="comment">//声明</span></span><br><span class="line">        <span class="comment">//静态初始化:数组初始化和数组元素的赋值同时进行</span></span><br><span class="line">        nums = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">1001</span>,<span class="number">1002</span>,<span class="number">1003</span>,<span class="number">1004</span>&#125;;</span><br><span class="line">        <span class="comment">//动态初始化：数组初始化合数组元素的赋值操作分开操作</span></span><br><span class="line">        String[] names = <span class="keyword">new</span> String[<span class="number">5</span>];</span><br><span class="line">        names[<span class="number">0</span>] = <span class="string">&quot;zhangsan&quot;</span>;</span><br><span class="line">        names[<span class="number">1</span>] = <span class="string">&quot;lisi&quot;</span>;</span><br><span class="line">        names[<span class="number">2</span>] = <span class="string">&quot;WangWu&quot;</span>;</span><br><span class="line">        names[<span class="number">3</span>] = <span class="string">&quot;chenqi&quot;</span>;</span><br><span class="line">        names[<span class="number">4</span>] = <span class="string">&quot;zhouyang&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// foreach默认情况下是正向遍历</span></span><br><span class="line">        <span class="keyword">for</span>(String s:names)&#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 逆向遍历</span></span><br><span class="line">        <span class="keyword">int</span> length = nums.length;</span><br><span class="line">        <span class="keyword">while</span>((--length)&gt;-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(nums[length]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="数组的默认初始化值"><a href="#数组的默认初始化值" class="headerlink" title="数组的默认初始化值"></a>数组的默认初始化值</h5><div class="table-container"><table><thead><tr><th>数组元素数据类型</th><th>默认值</th></tr></thead><tbody><tr><td>int</td><td>0</td></tr><tr><td>float/double</td><td>0.0</td></tr><tr><td>char</td><td>0或者’\u0000’，而非’0’</td></tr><tr><td>boolean</td><td>false(<font color='red'>底层false是0</font>)</td></tr><tr><td>引用数据类型</td><td>null</td></tr></tbody></table></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayTest01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] arr1 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>];</span><br><span class="line">        System.out.println(arr1[<span class="number">0</span>]);</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------&quot;</span>);</span><br><span class="line">        <span class="keyword">float</span>[] arr2 = <span class="keyword">new</span> <span class="keyword">float</span>[<span class="number">4</span>];</span><br><span class="line">        System.out.println(arr2[<span class="number">0</span>]);</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------&quot;</span>);</span><br><span class="line">        <span class="keyword">char</span>[] arr3 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">4</span>];</span><br><span class="line">        System.out.println(<span class="string">&quot;----&quot;</span>+arr3[<span class="number">0</span>]+<span class="string">&quot;****&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(arr3[<span class="number">0</span>] == <span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------&quot;</span>);</span><br><span class="line">        <span class="keyword">boolean</span>[] arr4 = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">4</span>];</span><br><span class="line">        System.out.println(arr4[<span class="number">0</span>]);</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="一维数组的内存解析"><a href="#一维数组的内存解析" class="headerlink" title="一维数组的内存解析"></a>一维数组的内存解析</h5><p>JVM中内存空间</p><ol><li>栈(Stack)：存放的是局部变量，<font color='red'>放在方法中的变量都叫局部变量</font></li><li>堆(heap)：存放的是<font color='red'>new出来的结构（对象数组）</font></li><li>方法取(Method Area)<ol><li>常量池</li><li>静态域</li></ol></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">5</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>分析第二行的内存结构</p><ol><li>arr是局部变量，故而其名称应该存在栈中</li><li>数据存储是new出来的，故而数据存储在堆中</li></ol><div class="note info"><p>堆中首个元素的地址是一个16进制的数，应该村存在栈中的arr的内存空间内，这样在进行数组访问时，先访问栈找到数组的首地址，去堆中访问指定的地址，根据角标获取数组内部元素的值</p></div><div class="note success"><p>另外就是，栈是有弹栈操作的，只要栈中的数据弹出栈，例如弹出了数组首地址，这样的话，堆中的数据就会在之后的对一段时间被JVM的垃圾回收机制回收</p></div><h4 id="二维数组的使用"><a href="#二维数组的使用" class="headerlink" title="二维数组的使用"></a>二维数组的使用</h4><p>多位数组的概念，其实本质上和数组元素类型是有关系的。由于数组元素可以是引用数据类型，而数组也是引用数据类型，那么为什么不可以数组的元素是一个数组呢？</p><p>二维数组的概念就是一个数组作为另外一个数组的元素存在</p><div class="note info"><p>从数组的底层实现来看，其实没有多维数组</p></div><h5 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h5><div class="note primary"><p>以下两个是相通的</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[][] nums = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>][<span class="number">4</span>];</span><br><span class="line"><span class="keyword">int</span>[] nums[] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>][<span class="number">4</span>];</span><br></pre></td></tr></table></figure></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 静态初始化</span></span><br><span class="line"><span class="keyword">int</span>[][] arr = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>&#125;,&#123;<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;&#125;;</span><br><span class="line"><span class="comment">//动态初始化</span></span><br><span class="line">String[][] arr1 = <span class="keyword">new</span> String[<span class="number">3</span>][<span class="number">4</span>];</span><br><span class="line">String[][] arr2 = <span class="keyword">new</span> String[<span class="number">3</span>][]; <span class="comment">// 两个的区别在于没有对列进行赋值。</span></span><br></pre></td></tr></table></figure><h5 id="调用指定位置的元素"><a href="#调用指定位置的元素" class="headerlink" title="调用指定位置的元素"></a>调用指定位置的元素</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(arr[<span class="number">0</span>][<span class="number">1</span>]);</span><br><span class="line">System.out.println(arr1[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">arr2[<span class="number">0</span>] = <span class="keyword">new</span> String[<span class="number">4</span>];</span><br></pre></td></tr></table></figure><div class="note info"><p>对于第四行，初始的情况下没有对列进行初始化，故而，在此需要初始化，否则直接调用会出现空指针异常</p></div><h5 id="获取数组的长度-1"><a href="#获取数组的长度-1" class="headerlink" title="获取数组的长度"></a>获取数组的长度</h5><p>arr.length表示一共多少个一个数组，arr[0].length表示当前下标下的数组的长度。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(arr.length);</span><br><span class="line">System.out.println(arr[<span class="number">0</span>].length);</span><br><span class="line">System.out.println(arr[<span class="number">1</span>].length);</span><br></pre></td></tr></table></figure><h5 id="遍历二维数组"><a href="#遍历二维数组" class="headerlink" title="遍历二维数组"></a>遍历二维数组</h5><p>两层循环，直接就可以了。</p><h5 id="默认初始化值"><a href="#默认初始化值" class="headerlink" title="默认初始化值"></a>默认初始化值</h5><p>外层元素默认情况下为<font color='red'>一个地址的值</font>，内层元素默认初始化值见一维数组的初始化值。对于内层数组没有初始化的情况下，外层数组的下标对应的值为<font color='red'>null</font></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayTest02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 静态初始化</span></span><br><span class="line">        <span class="keyword">int</span>[][] arr = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>&#125;,&#123;<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;&#125;;</span><br><span class="line">        <span class="comment">//动态初始化</span></span><br><span class="line">        String[][] arr1 = <span class="keyword">new</span> String[<span class="number">3</span>][<span class="number">4</span>];</span><br><span class="line">        String[][] arr2 = <span class="keyword">new</span> String[<span class="number">3</span>][]; <span class="comment">// 两个的区别在于没有对列进行赋值。</span></span><br><span class="line">        <span class="keyword">int</span>[][] arr3 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>][<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">        System.out.println(arr[<span class="number">0</span>][<span class="number">1</span>]);</span><br><span class="line">        System.out.println(arr1[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 初始的情况下没有对列进行初始化，故而，在此需要初始化，否则直接调用会出现空指针异常</span></span><br><span class="line">        arr2[<span class="number">0</span>] = <span class="keyword">new</span> String[<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">        System.out.println(arr.length);</span><br><span class="line">        System.out.println(arr[<span class="number">0</span>].length);</span><br><span class="line">        System.out.println(arr[<span class="number">1</span>].length);</span><br><span class="line"></span><br><span class="line">        System.out.println(arr3); <span class="comment">// [[I@1540e19d</span></span><br><span class="line">        System.out.println(arr3[<span class="number">0</span>]); <span class="comment">// [I@677327b6</span></span><br><span class="line">        System.out.println(arr3[<span class="number">0</span>][<span class="number">0</span>]); <span class="comment">// 0</span></span><br><span class="line">        </span><br><span class="line">        System.out.println(arr2[<span class="number">1</span>]); <span class="comment">// null</span></span><br><span class="line">        System.out.println(arr2[<span class="number">1</span>][<span class="number">0</span>]); <span class="comment">// NullPointerException</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://www.geekxh.com/assets/img/3.305e9fcd.jpg&quot; alt=&quot;数组&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="https://conquerorlei.github.io/categories/Java/"/>
    
    <category term="Base" scheme="https://conquerorlei.github.io/categories/Java/Base/"/>
    
    
    <category term="Sundry" scheme="https://conquerorlei.github.io/tags/Sundry/"/>
    
  </entry>
  
  <entry>
    <title>k个一组反转链表</title>
    <link href="https://conquerorlei.github.io/posts/f63f9b79/"/>
    <id>https://conquerorlei.github.io/posts/f63f9b79/</id>
    <published>2021-09-06T15:43:28.000Z</published>
    <updated>2021-09-15T03:09:00.964Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109132027464.png" alt="力扣刷题结果"></p><span id="more"></span><h4 id="题目地址"><a href="#题目地址" class="headerlink" title="题目地址"></a>题目地址</h4><p><a href="https://leetcode-cn.com/problems/reverse-nodes-in-k-group/">25. K 个一组翻转链表 - 力扣（LeetCode） (leetcode-cn.com)</a></p><h4 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h4><p>根据题目的要求，需要原地进行反转，这个和直接反转链表没有很大的区别，只不过在反转的过程中，需要对头指针和右指针进行位置的确认。</p><ol><li>若链表的长度小于k，直接返回head头结点。</li><li>设置一个头指针指向head</li><li>设置一个尾指针b指向head，从head开始遍历，直到第k个结点停止遍历</li><li>对[a,b)之间的链表进行翻转</li><li>后面的处理过程和前面四步相同直接就是递归。</li></ol><div class="note primary"><p>需要注意的是，反转之后a就是尾结点，并且，需要注意的是，左闭右开区间，b不在反转区间内</p></div><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseKGroup</span><span class="params">(ListNode head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        ListNode a=head,b=head;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;k;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(b==<span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> head;</span><br><span class="line">            &#125;</span><br><span class="line">            b = b.next;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode newHead = reverse(a,b);</span><br><span class="line">        a.next = reverseKGroup(b,k);</span><br><span class="line">        <span class="keyword">return</span> newHead;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverse</span><span class="params">(ListNode a,ListNode b)</span></span>&#123;</span><br><span class="line">        ListNode next = <span class="keyword">null</span>;</span><br><span class="line">        ListNode pre = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span>(a!=b)&#123;</span><br><span class="line">            next = a.next;</span><br><span class="line">            a.next = pre;</span><br><span class="line">            pre = a;</span><br><span class="line">            a = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pre;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gitee.com/QingShanxl/pictures/raw/master/img/202109132027464.png&quot; alt=&quot;力扣刷题结果&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Algorithm" scheme="https://conquerorlei.github.io/categories/Algorithm/"/>
    
    <category term="Data Structure" scheme="https://conquerorlei.github.io/categories/Data-Structure/"/>
    
    
    <category term="Daily" scheme="https://conquerorlei.github.io/tags/Daily/"/>
    
    <category term="Data Structure" scheme="https://conquerorlei.github.io/tags/Data-Structure/"/>
    
  </entry>
  
  <entry>
    <title>Java运行机制</title>
    <link href="https://conquerorlei.github.io/posts/3fd0dbbc/"/>
    <id>https://conquerorlei.github.io/posts/3fd0dbbc/</id>
    <published>2021-09-05T07:11:20.000Z</published>
    <updated>2021-09-13T12:40:56.526Z</updated>
    
    <content type="html"><![CDATA[<span id="more"></span><p>创建或者修改成源文件之后，使用Javac.exe编译成字节码文件，也就是.class文件，然后使用java.exe运行字节码文件，<font color='red'>本质上是java.exe将字节码文件装载到JVM上运行</font>。</p><p>需要注意的是：<br>一个源文件中只能有一个public修饰的类，通常这个类与文件名一致，其他类的数量不限。另外就是，不同类中都可以有main函数，只不过在编译的过程中会生成不同的字节码文件。</p><p>转义字符</p><div class="table-container"><table><thead><tr><th>字符</th><th>含义</th></tr></thead><tbody><tr><td>\t</td><td>一个指标为</td></tr><tr><td>\n</td><td>换行符</td></tr><tr><td>\\\</td><td>一个\</td></tr><tr><td>\\”</td><td>一个”</td></tr><tr><td>\\’</td><td>一个’’</td></tr><tr><td>\r</td><td>一个回车</td></tr></tbody></table></div><div class="note success"><p>一个回车和一个换行是不一样的，一个回车指的是不换行，光标直接从行尾跳到行头</p><p>而换行是光标直接跳转到下一行行首</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
&lt;p&gt;创建或者修改成源文件之后，使用Javac.exe编译成字节码文件，也就是.class文件，然后使用java.exe运行字节码文件，&lt;font color=&#39;red&#39;&gt;本质上是java.exe将字节码文件装载到JVM上运行&lt;/f</summary>
      
    
    
    
    <category term="Java" scheme="https://conquerorlei.github.io/categories/Java/"/>
    
    <category term="Base" scheme="https://conquerorlei.github.io/categories/Java/Base/"/>
    
    
    <category term="Sundry" scheme="https://conquerorlei.github.io/tags/Sundry/"/>
    
  </entry>
  
  <entry>
    <title>数组中第k个最大元素</title>
    <link href="https://conquerorlei.github.io/posts/32261d40/"/>
    <id>https://conquerorlei.github.io/posts/32261d40/</id>
    <published>2021-09-05T04:34:43.000Z</published>
    <updated>2021-09-05T05:17:14.095Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109051312352.png" alt="结果"></p><span id="more"></span><h4 id="题目地址"><a href="#题目地址" class="headerlink" title="题目地址"></a>题目地址</h4><p><a href="https://leetcode-cn.com/problems/kth-largest-element-in-an-array/">215. 数组中的第K个最大元素 - 力扣（LeetCode） (leetcode-cn.com)</a></p><h4 id="题目初始分析"><a href="#题目初始分析" class="headerlink" title="题目初始分析"></a>题目初始分析</h4><p>寻找第k个最大元素，我第一时间想到的就是对数组进行排序，递增则为nums[nums.length-k]，递减则为nums[k-1]。</p><p>这样的话，其实根本不需要对数组进行全排序，按照冒泡排序的基本思想，每次冒牌排序(假设我按照增序排列)，都可以选出来最大的数排在数组的最后一个位置。而且下一次冒泡排序就不用遍历整个数组，因为没有必要对最大的数和前面的数，因为这种比较是无效的，相当于我们的比较范围是在伴随着冒泡排序的进行不断缩小的。</p><div class="note primary"><p>需要注意的是，题目当中并没有要求你排除重复项，例如[4,5,5,6]，k=4，那么第k大的数就是4</p><p>如果需要排除重复项，那么上述的算法就需要更改了</p></div><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;k;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j&lt;nums.length-<span class="number">1</span>-i;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[j]&gt;nums[j+<span class="number">1</span>])&#123;</span><br><span class="line">                    nums[j] +=nums[j+<span class="number">1</span>];</span><br><span class="line">                    nums[j+<span class="number">1</span>] = nums[j]-nums[j+<span class="number">1</span>];</span><br><span class="line">                    nums[j] -= nums[j+<span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[nums.length-k];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="时空复杂度"><a href="#时空复杂度" class="headerlink" title="时空复杂度"></a>时空复杂度</h4><p>时间复杂度：考虑到最坏情况下的算法，时间复杂度应该为O(n(n+1)/2)=O(n<sup>2</sup>)</p><p>空间复杂度：O(1)，直接对数组进行的原地排序</p><h4 id="力扣结果"><a href="#力扣结果" class="headerlink" title="力扣结果"></a>力扣结果</h4><p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109051253595.png" alt="力扣通过结果"></p><p>这样的话，按照我个人的分析，时间消耗会很大，空间消耗由于我没有引入太多的其他变量，直接使用加法处理的两数交换。执行时间太长了。我还在想一个时间消耗比较小的方法。</p><h4 id="第二种解法"><a href="#第二种解法" class="headerlink" title="第二种解法"></a>第二种解法</h4><p>对于Java编程语言来说，其Array类中封装了sort方法，而且此sort方法采用了快速排序的方法，时间复杂度比冒泡排序小的多。</p><p>时间复杂度：O(nlogn)</p><p>空间复杂度：O(logn)</p><p>空间消耗主要是因为sort方法使用了栈，栈的最大高度是logn</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">return</span> nums[nums.length - k];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/QingShanxl/pictures/raw/master/img/202109051312352.png" alt="结果"></p><blockquote class="blockquote-center">人的一切痛苦，本质上是对自己的无能的愤怒<br>王小波</blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gitee.com/QingShanxl/pictures/raw/master/img/202109051312352.png&quot; alt=&quot;结果&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="https://conquerorlei.github.io/categories/Java/"/>
    
    <category term="Algorithm" scheme="https://conquerorlei.github.io/categories/Algorithm/"/>
    
    <category term="Data Structure" scheme="https://conquerorlei.github.io/categories/Data-Structure/"/>
    
    
    <category term="Daily" scheme="https://conquerorlei.github.io/tags/Daily/"/>
    
    <category term="Data Structure" scheme="https://conquerorlei.github.io/tags/Data-Structure/"/>
    
  </entry>
  
</feed>
